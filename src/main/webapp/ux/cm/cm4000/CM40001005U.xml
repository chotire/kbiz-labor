<?xml version="1.0" encoding="UTF-8"?>
<!-- <?xml-stylesheet href="/src/main/webapp/resources_ux/css/common.css" type="text/css"?>
<?xml-stylesheet href="/src/main/webapp/resources_ux/css/content.css" type="text/css"?> -->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
							<w2:dataMap baseNode="list" repeatNode="map" style="" id="dsTcmWkrMap"
								saveRemovedData="true">
								<w2:keyInfo>
									<w2:key id="erndSeq" name="근로_순번" dataType="text"></w2:key>

									<w2:key id="siteCd" name="현장코드" dataType="text"></w2:key>
									<w2:key id="siteNm" name="현장명" dataType="text"></w2:key>
									<w2:key id="wkrNo" name="근로자번호" dataType="text"></w2:key>
									<w2:key id="erndCntrdAflId" name="근로_계약서_첨부파일ID" dataType="text"></w2:key>
									<w2:key id="erndCntrdAflNm" name="근로_계약서_첨부파일명" dataType="text"></w2:key>
									<w2:key id="resnoEnc" name="주민등록번호_암호화" dataType="text"></w2:key>
									<w2:key id="resnoChkYn" name="주민등록번호_체크_여부" dataType="text"></w2:key>
									<w2:key id="resno" name="주민등록번호" dataType="text"></w2:key>
									<w2:key id="wkrNm" name="근로자_명" dataType="text"></w2:key>
									<w2:key id="ntvYn" name="내국인_여부" dataType="text"></w2:key>
									<w2:key id="telNo" name="전화번호" dataType="text"></w2:key>
									<w2:key id="telNo" name="전화번호" dataType="text"></w2:key>
									<w2:key id="crryTelNo" name="휴대_전화번호_암호화" dataType="text"></w2:key>
									<w2:key id="crryTelNo" name="휴대_전화번호" dataType="text"></w2:key>
									<w2:key id="zipCd" name="우편번호" dataType="text"></w2:key>
									<w2:key id="baseAddr" name="기본_주소" dataType="text"></w2:key>
									<w2:key id="dtlAddr" name="상세_주소" dataType="text"></w2:key>
									<w2:key id="dtlAddr" name="상세_주소" dataType="text"></w2:key>
									<w2:key id="ockndCd" name="직종코드" dataType="text"></w2:key>
									<w2:key id="chrgrEmpno" name="담당자_사번" dataType="text"></w2:key>
									<w2:key id="chrgrEmpnoNm" name="담당자_명" dataType="text"></w2:key>
									<w2:key id="erndGbCd" name="근로구분코드[CM005001]" dataType="text"></w2:key>
									<w2:key id="labrSalGbCd" name="노무급여구분코드[CM005019]" dataType="text"></w2:key>
									<w2:key id="adpGbCd" name="채용구분코드[CM005002]" dataType="text"></w2:key>
									<w2:key id="expcSalAmt" name="예상_급여_금액:월급여,시급" dataType="text"></w2:key>
									<w2:key id="dywgAmt" name="일급_금액:일급여" dataType="text"></w2:key>
									<w2:key id="hldyWkDys" name="휴일_근무_일수" dataType="text"></w2:key>
									<w2:key id="dyDyWkTm" name="일_일_근무_시간" dataType="text"></w2:key>
									<w2:key id="chgHorwgAmt" name="변경_시급_금액" dataType="text"></w2:key>
									<w2:key id="constBankCd" name="은행코드" dataType="text"></w2:key>
									<w2:key id="bnactNoEnc" name="계좌번호_암호화" dataType="text"></w2:key>
									<w2:key id="bnactNo" name="계좌번호" dataType="text"></w2:key>
									<w2:key id="entDt" name="입사_일자" dataType="text"></w2:key>
									<w2:key id="rtirDt" name="퇴직_일자" dataType="text"></w2:key>
									<w2:key id="complDtPrtYn" name="준공_일자_출력_여부" dataType="text"></w2:key>
									<w2:key id="beofYnNm" name="재직_여부명" dataType="text"></w2:key>
									<w2:key id="beofYn" name="재직_여부" dataType="text"></w2:key>
									<w2:key id="rtirRsnCd" name="퇴직_사유_코드[CM005015]" dataType="text"></w2:key>
									<w2:key id="labrEvalGrdCd" name="노무평가등급코드[CM005014]" dataType="text"></w2:key>
									<w2:key id="rsnpAflId" name="사직서_첨부파일ID" dataType="text"></w2:key>
									<w2:key id="rsnpAflNm" name="사직서_첨부파일명" dataType="text"></w2:key>
									<w2:key id="ftftCn" name="면담_내용" dataType="text"></w2:key>
									<w2:key id="spcmtCn" name="특기사항_내용" dataType="text"></w2:key>
									<w2:key id="entrYn" name="고용보험여부" dataType="text"></w2:key>
									<w2:key id="etcAflId" name="기타_첨부파일ID" dataType="text"></w2:key>
									<w2:key id="etcAflNm" name="기타_첨부파일명" dataType="text"></w2:key>
									<w2:key id="natnpPnsnAplyYn" name="국민_연금_적용_여부" dataType="text"></w2:key>
									<w2:key id="hlthInsurAplyYn" name="건강_보험_적용_여부" dataType="text"></w2:key>
									<w2:key id="hlthInsurNo" name="건강_보험_번호" dataType="text"></w2:key>
									<w2:key id="rtirDdctAplyYn" name="퇴직_공제_적용_여부" dataType="text"></w2:key>
									<w2:key id="exmnDt" name="검진_일자" dataType="text"></w2:key>
									<w2:key id="exmnKndCd" name="검진종류코드[CM01801]" dataType="text"></w2:key>
									<w2:key id="rsltGbCd" name="결과구분코드[CM01808]" dataType="text"></w2:key>
									<w2:key id="dssKndCd" name="질환종류코드[CM01802]" dataType="text"></w2:key>
									<w2:key id="chkIntuNm" name="점검_기관_명" dataType="text"></w2:key>
									<w2:key id="exmnOpinCn" name="검진_의견_내용" dataType="text"></w2:key>
									<w2:key id="baseErndTm" name="기본_근로_시간" dataType="text"></w2:key>
									<w2:key id="extnErndTm" name="연장_근로_시간" dataType="text"></w2:key>
									<w2:key id="wkhlExpyTm" name="주휴_수당_시간" dataType="text"></w2:key>
									<w2:key id="paidWkhlTm" name="유급_주휴_시간" dataType="text"></w2:key>
									<w2:key id="baseErndExpyAmt" name="기본_근로_수당_금액" dataType="text"></w2:key>
									<w2:key id="extnErndExpyAmt" name="연장_근로_수당_금액" dataType="text"></w2:key>
									<w2:key id="hldyErndExpyAmt" name="휴일_근로_수당_금액" dataType="text"></w2:key>
									<w2:key id="paidWkhlExpyAmt" name="유급_주휴_수당_금액" dataType="text"></w2:key>
									<w2:key id="workdate" name="출역일자" dataType="text"></w2:key>
									<w2:key id="email" name="이메일" dataType="text"></w2:key>
									<w2:key id="tcmLbatnPfmcYn" name="출역존재여부" dataType="text"></w2:key>
								</w2:keyInfo>
								<w2:data></w2:data>
							</w2:dataMap>
							<w2:dataList baseNode="list" id="dsCdTcmOckndMngList" repeatNode="map"
											saveRemovedData="true" style="">
											<w2:columnInfo>
															<w2:column dataType="text" id="ockndCdNm" name="직종코드명"></w2:column>
															<w2:column dataType="text" id="ockndCd" name="직종코드"></w2:column>
											</w2:columnInfo>
											<w2:data use="false"></w2:data>
							</w2:dataList>
							<w2:dataMap baseNode="map" id="dsParamMap" style="">
								<w2:keyInfo>
									<w2:key dataType="text" id="siteCd" name="현장코드"></w2:key>
									<w2:key id="erndSeq" name="근로_순번" dataType="text"></w2:key>
									<w2:key id="wkrNo" name="근로자번호" dataType="text"></w2:key>
									<w2:key id="resnoEnc" name="주민등록번호" dataType="text"></w2:key>
									<w2:key id="laborGbn" name="원천세 구분" dataType="text"></w2:key>
								</w2:keyInfo>
								<w2:data use="false">
									<siteCd><![CDATA[]]></siteCd>
									<erndSeq><![CDATA[]]></erndSeq>
									<wkrNo><![CDATA[]]></wkrNo>
									<resnoEnc><![CDATA[ ]]></resnoEnc>
								</w2:data>
							</w2:dataMap>
							<w2:dataMap baseNode="map" id="dsTcmWkrCode">
											<w2:keyInfo>
															<w2:key id="hourlyHorwgAmt" name="최저시급" dataType="text"></w2:key>
															<w2:key id="hourlyDywgAmt" name="최저일금" dataType="text"></w2:key>
											</w2:keyInfo>
							</w2:dataMap>
							<w2:dataMap baseNode="map" id="dsSrchMap" style="">
								<w2:keyInfo>
									<w2:key dataType="text" id="keySiteCd" name="현장코드"></w2:key>
									<w2:key id="keySiteNm" name="현장명" dataType="text"></w2:key>
									<w2:key dataType="text" id="keyWordGb" name="근로자구분"></w2:key>
									<w2:key dataType="text" id="keyWord" name="키워드"></w2:key>
									<w2:key dataType="text" id="keybeofYn" name="재직구분"></w2:key>
									<w2:key id="domainUrl" name="도메인" dataType="text"></w2:key>
								</w2:keyInfo>
								<w2:data use="true">
									<keySiteCd></keySiteCd>
								</w2:data>
							</w2:dataMap>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
		</xf:model>

		<script src="/resources/js/common/cmn_CM.js" type="javascript" lazy="false"/><script type="javascript" lazy="false"><![CDATA[
/***************************************************************************
 * Program ID : CM40001005U.xml
 * Program Name : 근로자관리
 * Author : tpyhyoj (tpyhyoj)
 * Date : 2019.08.28
 *
 * History
 * ========================================
 * 변경일자     수정자   내 용
 * ========================================
 *
 **************************************************************************/
 
	/************************************************************************************ 
	 *  [1] onpageload
	 ************************************************************************************/
	scwin.onpageload = function() {

		//화면초기화
		scwin.fnInitial();
	};

	/** 화면초기화 **/
	scwin.fnInitial = function() {
        grpTcmWkr.init();               //근로자
        grpTcmEplmtInsurExclMng.init(); //보험적용
        grpTcmHlthExmn.init();          //건강검진
        
		//초기값 설정
		scwin.fnButton("");

        //상세 페이지 검색 조건
        dsParamMap.set( "siteCd"  , $w.getParameter("paramKeySiteCd")  );      //현장코드
        dsParamMap.set( "erndSeq" , $w.getParameter("paramKeyErndSeq")  );     //근로_순번
        dsParamMap.set( "wkrNo"   , $w.getParameter("paramKeyWkrNo")  );       //근로자번호
        dsParamMap.set( "laborGbn", $w.getParameter("paramKeyLaborGbn")  );    //원천세 구분
        
        //리스트 검색 조건
        dsSrchMap.set( "keySiteCd"   , $w.getParameter("keySiteCd")  );        //현장코드     
        dsSrchMap.set( "keySiteNm"   , $w.getParameter("keySiteNm")  );        //현장명
        dsSrchMap.set( "keyWordGb"   , $w.getParameter("keyWordGb")  );        //근로자구분     
        dsSrchMap.set( "keyWord"     , $w.getParameter("keyWord")  );          //키워드     
        dsSrchMap.set( "keybeofYn"   , $w.getParameter("keybeofYn")  );        //재직구분     

        //신규 등록
		if( com.isEmpty(dsParamMap.get("erndSeq"))  ){    //근로자 순번
		    sbxErndGbCd.setValue( "CM00500101" );         //근로 구분     CM00500101  : 일용직      
		    sbxLabrSalGbCd.setValue( "CM005019002" );     //급여구분 구분 CM005019002 : 일급여
		    sbxOckndCd.setValue( "CM005013167" );		  //직종 		  CM005013167 : 일반공
		} else {  //수정 등록
		
		}
		
		if( dsParamMap.get( "laborGbn") == "TX" ){
			spnSiteDept.setLabel( "부서명" );
		} else {
			spnSiteDept.setLabel( "현장명" );
		} 
        		
		//공통코드			 
        com.selCdList( "sbxErndGbCd",       "CM005001", "Y", "Y");      //근로구분코드
        com.selCdList( "sbxLabrSalGbCd"	 , "CM005019", "Y", "Y");      	//
        com.selCdList( "sbxAdpGbCd"		 , "CM005002", "Y", "Y");      	//채용구분코드

        com.selCdList( "sbxExmnKndCd"	 , "CM01801" , "Y", "Y");       //건강검지종류
        com.selCdList( "sbxRsltGbCd"	 , "CM01808" , "Y", "Y");       //건강검지결과
        com.selCdList( "sbxDssKndCd"	 , "CM01802" , "Y", "Y");       //건강검지결과(질환)
        //최저시급
        com.selCdList( "sbxRtirRsnCn"	 , "CM005015", "Y", "Y");      	//퇴직사유
        com.selCdList( "sbxLabrEvalGrdCd", "CM005014", "Y", "Y");      	//평가등급
        com.selCdList( "sbxBankCd"		 , "CF016"	 , "Y");      		//은행코드

		scwin.fnSelectInit();	//초기 데이터 조회
		
		//UI팀용 함수 호출
    	scwin.commonUI();
	};

	/************************************************************************************
	 *  [2] 전역변수 
	 ************************************************************************************/
	var svcId = "";
	var svcFileId = "";

	/************************************************************************************
	 *  [3] Event 함수 
	 ************************************************************************************/

	// 조회 버튼
	scwin.btnFind_onclick = function() {
		scwin.fnSearchList();
	};
	
	// 저장 버튼
	scwin.btnSave_onclick = function() {
		scwin.fnUpdate();		
	};
	
	// 삭제 버튼
    scwin.btnDel_onclick = function() {
        scwin.fnDelete();   
    };
    
    //퇴직처리 버튼
    scwin.btnRetire_onclick = function() {
        if( dsTcmWkrMap.get("beofYn") == "N" ){    	//재직여부 : 퇴직
            scwin.fnRetireCancel();                 //퇴직 취소
        }else{
	        scwin.fnRetire();                      	//퇴직 처리
        }
    };
    
    //목록
    scwin.btnList_onclick = function() {
        scwin.fnPage();
    };
    
    //근로계약서 인쇄
	scwin.btnContract_onclick = function() {

    	var sSiteCd		= dsTcmWkrMap.get( "siteCd" );
    	var sWkrNo		= dsTcmWkrMap.get( "wkrNo" );
    	var sErndSeq	= dsTcmWkrMap.get( "erndSeq" );
    	
        var param = { SITE_CD  : sSiteCd
                    , WKR_NO   : sWkrNo
                    , ERND_SEQ : sErndSeq
                    };
        
        com.ubiReportPopup("CM40001015R.jrf", param, "CM", "");
        
	};
	
	//주민등록 번호 확인 버튼
	scwin.btnConfirm_onclick = function() {
			
        if( com.isEmpty(dsParamMap.get("erndSeq"))  ){  	//근로자 순번
        
        	dsTcmWkrMap.set( "ntvYn" 	  , "Y");			//내국인여부
        	
	        if( com.isEmpty(ibxResnoEnc.getValue())  ){  	//주민등록 번호
              com.showMessage("CMW0025", "주민등록 번호", "", "", ibxResnoEnc.id);    //$1은(는) 필수입력사항입니다.
              dsTcmWkrMap.set( "resnoChkYn" , "N");   		//주민등록번호 체크 여부
              return;
	        }
		
            //주빈번호 존재시 근로자 마스터 조회
			dsParamMap.set( "resnoEnc" , ibxResnoEnc.getValue() );    //주민번호
			
			var sResnoEnc =  ibxResnoEnc.getValue();
			
			if( sResnoEnc.substring(6,7) == '1' 
			 || sResnoEnc.substring(6,7) == '2'
			 || sResnoEnc.substring(6,7) == '3'
			 || sResnoEnc.substring(6,7) == '4'){
				if ( !com.chkIcNo(ibxResnoEnc.getValue()) ){
		            com.showMessage("CFW0003", "주민번호", "", "", ibxResnoEnc.id);  //$1 항목을 확인하십시오.
		            dsTcmWkrMap.set( "ntvYn" 	  , "Y");			//내국인여부
		            dsTcmWkrMap.set( "resnoChkYn" , "N");   		//주민등록번호 체크 여부
		            return ;
			    }
			}else if( sResnoEnc.substring(6,7) == '5' 
			 || sResnoEnc.substring(6,7) == '6'
			 || sResnoEnc.substring(6,7) == '7'
			 || sResnoEnc.substring(6,7) == '8'){
			 
			 	var bFgnno = false;
			 	if ( gcm.tab_main == undefined  ) {		//팝업인경우 
					var winPopParam = JSON.parse(sessionStorage.winpopParam);
					var parentId    = winPopParam.dataObj.data.pframeId;
					
					if(parentId != undefined && parentId != "") {
		           		var parentObj = opener.frames[parentId].getWindow().com;
		           		
				        //원천세 여부
		           		//cmn_CM.js 에 있는 함수 호출 
		           		if (typeof(parentObj["checkFgnno"]) == "function"){
		           			bFgnno = parentObj["checkFgnno"](ibxResnoEnc.getValue());
		           		}else{
		           			bFgnno = cmCom.checkFgnno(ibxResnoEnc.getValue());
		           		}
					}
				} else {								//팝업이 아닌경우
					bFgnno = cmCom.checkFgnno(ibxResnoEnc.getValue());
				}
			 
			 	dsTcmWkrMap.set( "ntvYn" 	  , "N");			//내국인여부
			 
//			 	if ( !cmCom.checkFgnno(ibxResnoEnc.getValue()) ){
			 	if ( !bFgnno ){
		            com.showMessage("CFW0003", "주민번호", "", "", ibxResnoEnc.id);  //$1 항목을 확인하십시오.
		            dsTcmWkrMap.set( "ntvYn" 	  , "N");			//내국인여부
		            dsTcmWkrMap.set( "resnoChkYn" , "N");   		//주민등록번호 체크 여부
		            return ;
				 }
			    
			}else {
				com.showMessage("CFW0003", "주민번호", "", "", ibxResnoEnc.id);  //$1 항목을 확인하십시오.
	            dsTcmWkrMap.set( "resnoChkYn" , "N");   			//주민등록번호 체크 여부
			}
			
			scwin.fnSelect(); 		//주민등록 번호 기준으로 근로자 마스터 조회
        
		} else {  //이력 
            var popOps = {
                popup_name:"근로자이력조회"
                            ,url:"/ux/cm/cm4000/CM40001010P.xml"
                            , data:{ paramKeyWkrNo : dsTcmWkrMap.get("wkrNo")
                               }
                            ,widType:"XL"
                            ,height:"600"
                        };
            com.popup_open(popOps);
		}
	};
	
	//주민번호 변경시 이베튼
    scwin.ibxResnoEnc_onchange = function() {
        dsTcmWkrMap.set( "resnoChkYn" , "N"); 
    };
	
	//급여구분 셀렉트 박스
	scwin.sbxLabrSalGbCd_onchange = function() {
        scwin.fnChangeLabrSalGb();
    };
    
    //근무구분(주간) 셀렉트 박스
    scwin.sbxAdpGbCd_onchange = function() {
        scwin.fnChangeAdpGbCd();
    };
	
	//근로자 계약서 버튼
    scwin.btnErndCntrdAflId_onclick = function() {
        var sAflId   = dsTcmWkrMap.get("erndCntrdAflId");
        var sJobGbCd = "CM";
        var sMenuId  = "CM40001005U";
        
        var popOps = {

                pid: "AflPopup"+"_" +new Date().getTime()
                ,url:"/ux/cf/CF00350002P.xml"
                ,modal : true //true || false
                ,popup_name:"근로자계약서 파일 첨부"
                ,callbackFn : "scwin.fnSingleUploadCallBack"
                ,widType : "M"
                ,height : 270
                ,data : {
                         aflId   : sAflId,
                         jobGbCd : sJobGbCd,
                         menuId  : sMenuId,
                         fileExt : "xlsx,doc,hwp,ppt,pdf,bmp,jpeg,jpg,gif,png",
                         usage   : "INS"
                        }
               };

        svcFileId = "erndCntrdAflFile";
        
        com.popup_open(popOps);
    };
    
    //사직서 첨부파일 버튼
    scwin.btnRsnpAflId_onclick = function() {
        var sAflId   = dsTcmWkrMap.get("rsnpAflId");    //사직서_첨부파일ID
        var sJobGbCd = "CM";
        var sMenuId  = "CM40001005U";
        
        var popOps = {

                pid: "AflPopup"+"_" +new Date().getTime()
                ,url:"/ux/cf/CF00350002P.xml"
                ,modal : true //true || false
                ,popup_name:"사직서 파일 첨부"
                ,callbackFn : "scwin.fnSingleUploadCallBack"
                ,widType : "M"
                ,height : 270
                ,data : {
                         aflId   : sAflId,
                         jobGbCd : sJobGbCd,
                         menuId  : sMenuId,
                         fileExt : "xlsx,doc,hwp,ppt,pdf,bmp,jpeg,jpg,gif,png",
                         usage   : "INS"
                        }
               };

        svcFileId = "rsnpAflFile";
        
        com.popup_open(popOps);
    };
    
    //고용보험 첨부서류 버튼    
    scwin.btnEtcAflId_onclick = function() {
        var sAflId   = dsTcmWkrMap.get("etcAflId"); //기타_첨부파일ID
        var sJobGbCd = "CM";
        var sMenuId  = "CM40001005U";
        
        var popOps = {

                pid: "AflPopup"+"_" +new Date().getTime()
                ,url:"/ux/cf/CF00350002P.xml"
                ,modal : true //true || false
                ,popup_name:"고용보험 파일 첨부"
                ,callbackFn : "scwin.fnSingleUploadCallBack"
                ,widType : "M"
                ,height : 270
                ,data : {
                         aflId   : sAflId,
                         jobGbCd : sJobGbCd,
                         menuId  : sMenuId,
                         fileExt : "xlsx,doc,hwp,ppt,pdf,bmp,jpeg,jpg,gif,png",
                         usage   : "INS"
                        }
               };

        svcFileId = "etcAflFile";
        com.popup_open(popOps);
    };
    
    //근로 선택 이벤트
    scwin.sbxErndGbCd_onchange = function() {
        if( sbxErndGbCd.getValue() == "CM00500101" ) {  	//일용직
            sbxLabrSalGbCd.setValue( "CM005019002" );     	//급여구분 구분 CM005019002 : 일급여
        }else{
            sbxLabrSalGbCd.setValue( "CM005019001" );     	//급여구분 구분 CM005019001 : 월급여
        }
    };
    
    //단가 조회 버튼 이벤트
    scwin.btnUctFind_onclick = function() {
		var popOps = {
             popup_name:"근로자단가 조회"
                         ,url:"/ux/cm/cm4000/CM40001015P.xml"
                         , data:{ paramKeySiteCd : dsTcmWkrMap.get("siteCd")
	                            , paramKeyWkrNo : dsTcmWkrMap.get("wkrNo")
	                            , paramKeyErndSeq : dsTcmWkrMap.get("erndSeq")
                            }
                         ,widType:"M"
                         ,height:"340"
                     };
         com.popup_open(popOps);
	};
	
	
	/**************************************************************************
	 *  [4] Callback
	 **************************************************************************/

	// 결과 후처리
	scwin.fnCallback = function(result, e) {

		switch (svcId) {
			case "selectInitTcmWkr" :		//초기 조회
				dsCdTcmOckndMngList.setJSON(result.data.tcmOckndMngList);	        //직종 조회
				dsTcmWkrCode.setJSON(result.data.tcmWkrCode);	    				//최저시급
				
				dsTcmWkrMap.set( "siteCd" , result.data.tcmSite.siteCd );	        //현장코드
				dsTcmWkrMap.set( "siteNm" , result.data.tcmSite.siteNm );	        //현장명
				dsTcmWkrMap.set( "tcmLbatnPfmcYn" , result.data.tcmLbatnPfmcYn );	//출역정보 존재여부

				if( com.isEmpty(dsParamMap.get("erndSeq"))  ){                      //근로자 순번 없을시 신규
				
				    dsTcmWkrMap.set( "chrgrEmpnoNm" , result.data.chrgrEmpnoNm );   //담당자
				    dsTcmWkrMap.set( "chrgrEmpno" , result.data.chrgrEmpno );       //담당자번호
				    
				    //버튼 조정 : 추가
                    scwin.fnButton("insert");
                    
                    //기본값 세팅
                    rdoNtvYn.setValue( "Y" );   //내국인 여부 : Y 내국인
                    
                    grpRtirRsn.hide();
				} else {                                                            //근로자 순번 존재시 수정
				    dsTcmWkrMap.setJSON(result.data.tcmWkr);	                    //근로자
				    
				    com.setUdcValue("udcTelNo"		, "telNo"	, dsTcmWkrMap.get("telNo"));           	//전화번호
				    com.setUdcValue("udcCrryTelNo"	, "telNo"	, dsTcmWkrMap.get("crryTelNo"));   		//핸드폰 번호
				    
				    com.setUdcValue("udcAddress"	, "zipNo"		, dsTcmWkrMap.get("zipCd"));        //우편번호
				    com.setUdcValue("udcAddress"	, "addrBasic"	, dsTcmWkrMap.get("baseAddr"));     //기본 주소
				    com.setUdcValue("udcAddress"	, "addrDetail"	, dsTcmWkrMap.get("dtlAddr"));      //상세 주소
				    
				    var sEmail = dsTcmWkrMap.get("email") ;
	                if( !com.isEmpty(sEmail)  ){
	                    var sEmailArr   = sEmail.split("@");
	                    if( sEmailArr.length > 0){
	                        com.setUdcValue("udcEmail", "preEmail"	 , sEmailArr[0]);               //이메일 id
	                        com.setUdcValue("udcEmail", "pstEmail"	 , sEmailArr[1]);               //이메일 도메인
	                        com.setUdcValue("udcEmail", "sbxPstEmail", sEmailArr[1]);               //이메일 도메인
	                        
	                    }   
	                } 
	                
	                dsTcmWkrMap.set( "email" , result.data.email);                   //이메일
                        
				    //버튼 조정 : 수정
                    if( result.data.tcmWkr.beofYn == "N" ){
                        scwin.fnButton("retire");
                        btnRetire.setValue( "퇴직취소" );
                    }else{
                        scwin.fnButton("update");
                        btnRetire.setValue( "퇴직처리" );
                    }
                    
                    btnConfirm.setValue( "이력" );    //주민 번호 확인 버튼
                    
                    //화면 제어
                    ibxResnoEnc.setDisabled( true );        //주민번호
                    ibxWkrNm.setDisabled( true );           //성명
                    rdoNtvYn.setDisabled( true );           //내국인여부
                    sbxOckndCd.setDisabled( true );         //직종
                    if(dsTcmWkrMap.get( "tcmLbatnPfmcYn" ) != "N" ){
	                    sbxErndGbCd.setDisabled( true );        //근로
	                    sbxLabrSalGbCd.setDisabled( true );     //급여구분
                    }
                    
//                    ibxChgHorwgAmt.setDisabled( true );     //근무구분
                    calEntDt.setDisabled( true );           //입사일자
                    cbxEntrYn.setDisabled( true );          //고용보험
                    
                    calExmnDt.setDisabled( true );          //건강검진일자
                    sbxExmnKndCd.setDisabled( true );       //건강검진종류
                    sbxRsltGbCd.setDisabled( true );        //검진결과
                    sbxDssKndCd.setDisabled( true );        //검진결과
                    ibxChkIntuNm.setDisabled( true );       //검진기관
                    ibxExmnOpinCn.setDisabled( true );      //소견내용
                    
                    if( dsTcmWkrMap.get("beofYn")  == "N"){ //재직 여부 : 퇴직인경우
                        spnBeofYnNm.setValue( "퇴직" );
                    }else{
                        spnBeofYnNm.setValue( "재직" );
                    }
				}
				
				break;
			case "selectTcmWkr" :				//조회
                dsTcmWkrMap.set( "siteCd" , result.data.tcmSite.siteCd );                       //현장코드
                dsTcmWkrMap.set( "siteNm" , result.data.tcmSite.siteNm );                       //현장명
			
			    dsTcmWkrMap.setJSON(result.data.tcmWkrMstr);                                    //근로자
                    
                
				com.setUdcValue("udcTelNo"		, "telNo"	, dsTcmWkrMap.get("telNo"));        //전화번호
				com.setUdcValue("udcCrryTelNo"	, "telNo"	, dsTcmWkrMap.get("crryTelNo"));   	//핸드폰 번호
				
				com.setUdcValue("udcAddress"	, "zipNo"		, dsTcmWkrMap.get("zipCd"));    //우편번호
				com.setUdcValue("udcAddress"	, "addrBasic"	, dsTcmWkrMap.get("baseAddr")); //기본 주소
				com.setUdcValue("udcAddress"	, "addrDetail"	, dsTcmWkrMap.get("dtlAddr"));  //상세 주소
				
                dsTcmWkrMap.set( "chrgrEmpnoNm" , result.data.chrgrEmpnoNm );                   //담당자명
                dsTcmWkrMap.set( "chrgrEmpno" 	, result.data.chrgrEmpno );                     //담당자
                var sEmail = result.data.email;
                if( !com.isEmpty(sEmail)  ){
                    var sEmailArr   = sEmail.split("@");
                    if( sEmailArr.length > 0){
                        com.setUdcValue("udcEmail", "preEmail", sEmailArr[0]);                  //이메일 id
                        com.setUdcValue("udcEmail", "pstEmail", sEmailArr[1]);                  //이메일 도메인
                        com.setUdcValue("udcEmail", "sbxPstEmail", sEmailArr[1]);               //이메일 도메인
                    }   
                } 
                
                dsTcmWkrMap.set( "email" , result.data.email);      //이메일_암호화
                dsTcmWkrMap.set( "resnoChkYn" , "Y");   			//주민번호 체크 여부 
				break;
			case "saveTcmWkr" :					//저장
				com.showMessage("CFA0012");     //저장되었습니다.

				dsParamMap.set( "wkrNo"   , result.data.wkrNo   );   //근로자 번호
				dsParamMap.set( "erndSeq" , result.data.erndSeq  );  //근로 순번
				dsParamMap.set( "siteCd"  , result.data.siteCd   );  //현장코드
				
				scwin.fnSelectInit();

				break;
			case "deleteTcmWkr" :				//삭제
				com.showMessage("CMW0035");     //삭제되었습니다.
				scwin.fnPage();
				break;
			case "updateRetire" :				//퇴직처리
				com.showMessage("CMW0036");     //퇴직 처리되었습니다.
				scwin.fnSelectInit();
				break;
			case "updateRetireCancel" :			//퇴직취소
				com.showMessage("CMW0037");     //퇴직취소 처리되었습니다.
				scwin.fnSelectInit();
				break;
		}
	};

	// 에러 후처리
	scwin.fnErrCallBack = function(e) {
		switch (svcId) {
			case "selectInitTcmWkr" :			//초기 조회				
				console.log('조회오류: ' + e);
				break;
			case "selectTcmWkr" :				//조회
				console.log('조회오류: ' + e);
				break;
			case "saveTcmWkr" :					//저장
				console.log('저장오류: ' + e);
				break;
			case "deleteTcmWkr" :				//삭제
				console.log('삭제오류: ' + e);
				break;
			case "updateRetire" :				//퇴직처리
				console.log('저장오류: ' + e);
				break;
			case "updateRetireCancel" :			//퇴직취소
				console.log('저장오류: ' + e);
				break;
		}
	}

    // 싱글업로드 파일첨부 팝업 콜백
    scwin.fnSingleUploadCallBack = function(result){
        switch (svcFileId) {
            case "erndCntrdAflFile" :   //근로자관리 > 근로자계약서
		        if(result.aflId == "") {
		            ibxErndCntrdAflId.setValue("");
		            dsTcmWkrMap.set("erndCntrdAflId", result.aflId);
		        } else {
		            ibxErndCntrdAflId.setValue(result.aflNm);
		            dsTcmWkrMap.set("erndCntrdAflId", result.aflId);
		        }               
                break;
            case "rsnpAflFile" :    //근로자관리 > 사직서
                if(result.aflId == "") {
                    ibxRsnpAflId.setValue("");
                    dsTcmWkrMap.set("rsnpAflId", result.aflId);
                } else {
                    ibxRsnpAflId.setValue(result.aflNm);
                    dsTcmWkrMap.set("rsnpAflId", result.aflId);
                }               
                break;
            case "etcAflFile" :     //보험적용 사항 > 첨부서류
                if(result.aflId == "") {
                    ibxEtcAflId.setValue("");
                    dsTcmWkrMap.set("etcAflId", result.aflId);
                } else {
                    ibxEtcAflId.setValue(result.aflNm);
                    dsTcmWkrMap.set("etcAflId", result.aflId);
                }             
                break;
        }
    };
    
	/**************************************************************************
	 *  [5] 사용자정의 함수
	 **************************************************************************/
	 
	// 초기 값 조회
	scwin.fnSelectInit= function() {

		svcId = "selectInitTcmWkr";

		ajaxLib.ajax("/cm/cm4000/CM40001005U/selectInitTcmWkr", {
			mode : "asynchronous",
			method : "POST",
			requestData : dsParamMap.getJSON(),
			callback : "fnCallback",
			errCallback : "fnErrCallBack"
		});

	};
	
	// 조회
	scwin.fnSelect = function() {

		svcId = "selectTcmWkr";

		ajaxLib.ajax("/cm/cm4000/CM40001005U/selectTcmWkr", {
			mode : "asynchronous",
			method : "POST",
			requestData : dsParamMap.getJSON(),
			callback : "fnCallback",
			errCallback : "fnErrCallBack"
		});

	};
	
	// 저장
	scwin.fnUpdate = function() {

		svcId = "saveTcmWkr";
		
        //udc매핑
        dsTcmWkrMap.set("telNo"		, com.getUdcValue("udcTelNo"	, "telNo"));      	//전화번호
        dsTcmWkrMap.set("crryTelNo"	, com.getUdcValue("udcCrryTelNo", "telNo"));   		//핸드폰 번호
        
        dsTcmWkrMap.set("zipCd"		, com.getUdcValue("udcAddress", "zipNo"));        	//우편번호
        dsTcmWkrMap.set("baseAddr"	, com.getUdcValue("udcAddress", "addrBasic"));     	//기본 주소
        dsTcmWkrMap.set("dtlAddr"	, com.getUdcValue("udcAddress", "addrDetail"));     //상세 주소
		
		var sEmail = com.getUdcValue("udcEmail", "preEmail")+"@";
		
		if( com.getUdcValue("udcEmail", "sbxPstEmail") == ''){
		   sEmail = sEmail + com.getUdcValue("udcEmail", "pstEmail");
		}else {
		  sEmail = sEmail + com.getUdcValue("udcEmail", "sbxPstEmail");
		}
                        
        dsTcmWkrMap.set("email",   sEmail);      //이메일 
                            
		if( !scwin.fnValidation("save") ){
            return ;
		}
		
		if (confirm("저장 하시겠습니까?")) {

			ajaxLib.ajax("/cm/cm4000/CM40001005U/saveTcmWkr", {
				mode : "asynchronous",
				method : "POST",
			    requestData : {
								tcmWkr 				 : dsTcmWkrMap.getJSON(),		//근로자
								tcmWkrMstr 			 : dsTcmWkrMap.getJSON(),		//근로자 마스트
								tcmUctChgHist 		 : dsTcmWkrMap.getJSON(),		//근로자단가변경이력
								tcmHlthExmn 		 : dsTcmWkrMap.getJSON(),		//검간검진
								tcmEplmtInsurExclMng : dsTcmWkrMap.getJSON()		//고용보험변경이력
							  },
				callback : "fnCallback",
				errCallback : "fnErrCallBack"
			});
		}
	};
	
	// 삭제
	scwin.fnDelete = function() {

		svcId = "deleteTcmWkr";
		
		if (confirm("삭제 하시겠습니까?")) {

			ajaxLib.ajax("/cm/cm4000/CM40001005U/deleteTcmWkr", {
				mode : "asynchronous",
				method : "POST",
			    requestData : {
								tcmWkr 		  : dsTcmWkrMap.getJSON(),		//근로자
								tcmWkrMstr 	  : dsTcmWkrMap.getJSON(),		//근로자 마스트
								tcmUctChgHist : dsTcmWkrMap.getJSON(),		//근로자단가변경이력
								tcmHlthExmn   : dsTcmWkrMap.getJSON(),		//검간검진
								tcmEplmtInsurExclMng : dsTcmWkrMap.getJSON()		//고용보험변경이력
							  },
				callback : "fnCallback",
				errCallback : "fnErrCallBack"
			});
		}
	};
	
	// 퇴직처리
	scwin.fnRetire = function() {

		svcId = "updateRetire";
		
		if( !scwin.fnValidation("retire") ){
            return ;
        }
        
		if( com.isEmpty(sbxRtirRsnCn.getValue()) ){
            com.showMessage("CMW0025", "퇴직사유", "", "", sbxRtirRsnCn.id);    	//$1은(는) 필수입력사항입니다.
            return ;
        }
        
        if( com.isEmpty(sbxLabrEvalGrdCd.getValue()) ){
            com.showMessage("CMW0025", "평가등급", "", "", sbxLabrEvalGrdCd.id);    //$1은(는) 필수입력사항입니다.
            return ;
        }
        
		if (confirm("퇴직처리 하시겠습니까?")) {

            dsTcmWkrMap.set( "beofYn" , "N" );      //재직여부
            
			ajaxLib.ajax("/cm/cm4000/CM40001005U/updateRetire", {
				mode : "asynchronous",
				method : "POST",
			    requestData : {
								tcmWkr        : dsTcmWkrMap.getJSON(),		//근로자
								tcmWkrMstr    : dsTcmWkrMap.getJSON(),		//근로자 마스트
								tcmUctChgHist : dsTcmWkrMap.getJSON(),		//근로자단가변경이력
								tcmHlthExmn   : dsTcmWkrMap.getJSON()		//검간검진
							  },
				callback : "fnCallback",
				errCallback : "fnErrCallBack"
			});
		}
	};
	
	// 퇴직처리 취소
	scwin.fnRetireCancel = function() {

		svcId = "updateRetireCancel";
		
		if (confirm("퇴직처리 취소 하시겠습니까?")) {

			ajaxLib.ajax("/cm/cm4000/CM40001005U/updateRetireCancel", {
				mode : "asynchronous",
				method : "POST",
			    requestData : {
								tcmWkr : dsTcmWkrMap.getJSON()			//근로자
							  },
				callback : "fnCallback",
				errCallback : "fnErrCallBack"
			});
		}
	};
	
    //버튼 히든 처리	
	scwin.fnButton = function(sGubun) {
        btnRetire.setDisabled(true);       		//퇴직처리
        btnContract.setDisabled(true);     		//계약서 출력
        btnDel.setDisabled(true);          		//삭제
        btnSave.setDisabled(true);         		//저장
		btnUctFind.hide();				   		//단가 조회
		
        if( sGubun == "insert"){
            btnSave.setDisabled(false);         //저장
        }
        
        if( sGubun == "update"){
	        btnRetire.setDisabled(false);    	//퇴직처리
	        btnContract.setDisabled(false);     //계약서 출력
	        btnDel.setDisabled(false);          //삭제
	        btnSave.setDisabled(false);         //저장
	        btnUctFind.show();					//단가 조회
        }
        
        if( sGubun == "retire"){
            btnRetire.setDisabled(false);      	//퇴직처리
            btnUctFind.show();					//단가 조회
        }
        
    };
    
    //급여구분 셀렉트 박스 이벤트
    scwin.fnChangeLabrSalGb = function() {
        var sLabrSalGbCd =  sbxLabrSalGbCd.getValue();
        
        if( sLabrSalGbCd == "CM005019001"){ 		//월급여
            spnExpcSalAmt.setValue( "월급여액" );
            dsTcmWkrMap.set( "dywgAmt" , 0 );    	//일급_금액
            
            sbxErndGbCd.setValue("CM00500102" );    //상용직
        }else if( sLabrSalGbCd == "CM005019002"){ 	//일급여
            spnExpcSalAmt.setValue( "일급여액" );
            sbxErndGbCd.setValue("CM00500101" );    //일용직
        }else{                                  	//시급
            spnExpcSalAmt.setValue( "월급여액" );
        }
            
    };
    
    //근로구분 이벤트
    scwin.fnChangeAdpGbCd = function() {
        var sAdpGbCd =  sbxAdpGbCd.getValue();
        if( sAdpGbCd == "CM005002002"){    	 	//5일미만
            spnHldyWkDys.setValue( "주간근무일수" );
        }else{                                  //5일이상
            spnHldyWkDys.setValue( "월간휴일근무일수<br/>(월4주기준)" );
        }
    };
    
    //유효성 체크
    scwin.fnValidation = function(sType) {
    
    	if( sType == "save" ){
	       	if( "CM00500101" == sbxErndGbCd.getValue() && "CM005019002" != sbxLabrSalGbCd.getValue()){   //일용직 , 일급여
	            com.showMessage("CMW0038", "", "", "", sbxLabrSalGbCd.id);	//일용근로자는 일급여만 선택됩니다.
	            return false; 
	        }
	        
	        if( "CM00500102" == sbxErndGbCd.getValue() && "CM005019001" != sbxLabrSalGbCd.getValue()){   //상용직 , 월급여
	            com.showMessage("CMW0039", "", "", "", sbxLabrSalGbCd.id);	//상용근로자는 월급여만 선택됩니다.
	            return false; 
	        }
    	}
        
        if( com.isEmpty(ibxResnoEnc.getValue()) ){
            com.showMessage("CMW0025", "주민등록 번호", "", "", ibxResnoEnc.id);    //$1은(는) 필수입력사항입니다.
            return false;
        }
        
        //주민등록 체크 여부 (최초 등록시만)
        if( com.isEmpty(dsParamMap.get("erndSeq"))  ){                      		//근로자 순번 없을시 신규
            if(  dsTcmWkrMap.get( "resnoChkYn") != "Y" ){
                com.showMessage("CFW0003", "주민등록", "", "", ibxResnoEnc.id);    	//$1 항목을 확인하십시오.
                return false;
            }
        }
        
        if( com.isEmpty(ibxWkrNm.getValue()) ){
            com.showMessage("CMW0025", "성명", "", "", ibxWkrNm.id);    		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(rdoNtvYn.getValue()) ){
            com.showMessage("CMW0025", "내국인여부", "", "", rdoNtvYn.id);    	//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(com.getUdcValue("udcTelNo", "telNo")) ){
            var focusId = com.getUdcComp("udcTelNo", "telNo").id; 
            com.showMessage("CMW0025", "전화번호", "", "", focusId);    		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(com.getUdcValue("udcCrryTelNo", "telNo")) ){
            var focusId = com.getUdcComp("udcCrryTelNo", "telNo").id; 
            com.showMessage("CMW0025", "핸드폰", "", "", focusId);     			//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(com.getUdcValue("udcAddress", "zipNo")) ){
            var focusId = com.getUdcComp("udcAddress", "zipNo").id; 
            com.showMessage("CMW0025", "우편번호", "", "", focusId);     		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(com.getUdcValue("udcAddress", "addrBasic")) ){
            var focusId = com.getUdcComp("udcAddress", "addrBasic").id; 
            com.showMessage("CMW0025", "주소", "", "", focusId);     			//$1은(는) 필수입력사항입니다.
            return false;
        }


        if( !com.isEmpty(com.getUdcValue("udcEmail", "preEmail")) ){
            if( com.getUdcValue("udcEmail", "sbxPstEmail") == ''){
		        if( com.isEmpty(com.getUdcValue("udcEmail", "pstEmail")) ){
		            var focusId = com.getUdcComp("udcEmail", "preEmail").id; 
	                com.showMessage("CFW0003", "메일 도메인", "", "", focusId);     //$1 항목을 확인하십시오.
		            return false;
		        }
	        }else {
	            if( com.isEmpty(com.getUdcValue("udcEmail", "sbxPstEmail")) ){
	                var focusId = com.getUdcComp("udcEmail", "sbxPstEmail").id; 
	                com.showMessage("CFW0003", "메일 도메인", "", "", focusId);     //$1 항목을 확인하십시오.
	                return false;
	            }
	        }
        }
        
                
//        if( com.isEmpty(com.getUdcValue("udcEmail", "preEmail")) ){
//            var focusId = com.getUdcComp("udcEmail", "preEmail").id; 
//            com.showMessage("CMW0025", "메일 ID", "", "", focusId);     		//$1은(는) 필수입력사항입니다.
//            return false;
//        }
//        
//        
//        if( com.getUdcValue("udcEmail", "sbxPstEmail") == ''){
//	        if( com.isEmpty(com.getUdcValue("udcEmail", "pstEmail")) ){
//	            var focusId = com.getUdcComp("udcEmail", "preEmail").id; 
//                com.showMessage("CFW0003", "메일 도메인", "", "", focusId);     //$1 항목을 확인하십시오.
//	            return false;
//	        }
//        }else {
//            if( com.isEmpty(com.getUdcValue("udcEmail", "sbxPstEmail")) ){
//                var focusId = com.getUdcComp("udcEmail", "sbxPstEmail").id; 
//                com.showMessage("CFW0003", "메일 도메인", "", "", focusId);     //$1 항목을 확인하십시오.
//                return false;
//            }
//        }
        
        
        
        if( com.isEmpty(com.getUdcValue("udcAddress", "addrDetail")) ){
             var focusId = com.getUdcComp("udcAddress", "addrDetail").id; 
             com.showMessage("CMW0025", "상세주소", "", "", focusId);     		//$1은(는) 필수입력사항입니다.
            return false;
        }

        if( com.isEmpty(sbxOckndCd.getValue()) ){
            com.showMessage("CMW0026", "", "", "", sbxOckndCd.id);		//직종을 선택하십시오.\n\n(기본정보관리의 직종관리가 등록되어 있어야 합니다.)
            return false;
        }
        
        if( com.isEmpty(ibxExpcSalAmt.getValue()) || eval(ibxExpcSalAmt.getValue()) == 0){
            if( "CM005019001" == sbxLabrSalGbCd.getValue() ){   //월급여
                com.showMessage("CFW0003", "월급여", "", "", ibxExpcSalAmt.id);   //$1 항목을 확인하십시오.
                return false;
            }
            
            if( "CM005019002" == sbxLabrSalGbCd.getValue() ){   //일급여
                com.showMessage("CFW0003", "일급여", "", "", ibxExpcSalAmt.id);   //$1 항목을 확인하십시오.
                return false;
            }
        }
        
        if( com.isEmpty(sbxAdpGbCd.getValue()) ){
            com.showMessage("CMW0025", "근로구분", "", "", sbxAdpGbCd.id);  //$1은(는) 필수입력사항입니다.
            return false;
        }

        
        //1. 채용구분에 따른 근무일수
        if( sbxAdpGbCd.getValue() == "CM005002002"){     //5일미만
            if( com.isEmpty(ibxHldyWkDys.getValue()) ||   eval(ibxHldyWkDys.getValue()) == 0){    //일일근무시간
                com.showMessage("CMW0027", "주간근무일수", "0", "", sbxAdpGbCd.id);  //$1은(는) $2 이상이어야 합니다.
                return false;
            }
               
            if( eval(ibxHldyWkDys.getValue()) >= 5){    //일일근무시간
                com.showMessage("CMW0028", "", "", "", ibxHldyWkDys.id);  //5일미만 근로자는 주간근무일수가 5일 미만이어야 합니다.
                return false;
            }   
        //2.월간휴일근무일수
        } else {              //5일이상
            if( eval(ibxHldyWkDys.getValue()) > 6){    //일일근무시간
                com.showMessage("CMW0029", "", "", "", ibxHldyWkDys.id);  //월간휴일근무일수는 최대 6일까지 가능합니다.
                return false;
            } 
                
        }

        //3.일일근무시간
        if( com.isEmpty(ibxDyDyWkTm.getValue()) || eval(ibxDyDyWkTm.getValue()) == 0){    //일일근무시간
            com.showMessage("CMW0025", "일일근무시간", "", "", ibxDyDyWkTm.id);  //$1은(는) 필수입력사항입니다.
            return false;
        }

        //일급 큰거에 대한 체크..필요없을듯..
        if( eval(ibxDyDyWkTm.getValue()) > 24){    //일일근무시간
            com.showMessage("CMW0031", "", "", "", ibxDyDyWkTm.id);  			//일일근무시간은 24시간을 초과할수 없습니다.
            return false;
        }   
        
        if( com.isEmpty(sbxBankCd.getValue()) ){
            com.showMessage("CMW0025", "이체은행", "", "", sbxBankCd.id);  		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( com.isEmpty(ibxBnactNoEnc.getValue()) ){
            com.showMessage("CMW0025", "계좌번호", "", "", ibxBnactNoEnc.id);  	//$1은(는) 필수입력사항입니다.
            return false;
        }

        if( com.isEmpty(calEntDt.getValue()) ){
            com.showMessage("CMW0025", "입사일자", "", "", calEntDt.id);  		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( !com.isDate(calEntDt.getValue()) ){
            com.showMessage("CFW0003", "입사일자", "", "", calEntDt.id);  		//$1 항목을 확인하십시오.
            return false;
        }
        
        if( com.isEmpty(calRtirDt.getValue()) ){
            com.showMessage("CMW0025", "퇴사일자", "", "", calRtirDt.id);  		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( !com.isDate(calRtirDt.getValue()) ){
            com.showMessage("CFW0003", "퇴사일자", "", "", calRtirDt.id);  		//$1 항목을 확인하십시오.
            return false;
        }
        
        if( eval(calEntDt.getValue()) >= eval(calRtirDt.getValue())){
            com.showMessage("CMW0032", "퇴직(예정)일자", "최종출역일자", "", calRtirDt.id);  //$1는 $2보다 작을 수 없습니다
            return false;
        }
        
        //sType : retire 퇴직인경우 
        if( sType == "retire" && com.isEmpty(sbxRtirRsnCn.getValue()) ){
            com.showMessage("CMW0025", "퇴직사유", "", "", sbxRtirRsnCn.id);  		//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        if( sType == "retire" && com.isEmpty(sbxLabrEvalGrdCd.getValue()) ){
            com.showMessage("CMW0025", "평가등급", "", "", sbxLabrEvalGrdCd.id);  	//$1은(는) 필수입력사항입니다.
            return false;
        }
        
        
        if( com.isEmpty(ftftCn.getValue()) ){
            com.showMessage("CMW0025", "면담내용", "", "", ftftCn.id);  			//$1은(는) 필수입력사항입니다.
            return false;
        }
        
//        if( cbxHlthInsurAplyYn.getValue() == "Y" && com.isEmpty(ibxHlthInsurNo.getValue()) ){ 	//건강보험 체크 , 건강보험증권번호 
//            com.showMessage("CMW0025", "건강보험증번호", "", "", cbxHlthInsurAplyYn.id);  		//$1은(는) 필수입력사항입니다.
//            return false;
//        }

        if( !com.isEmpty(calExmnDt.getValue()) ){ //건강검진일
        
            var nEntdatePre1Year = eval(calEntDt.getValue()) - 10000;   //입사일 1년전 구하기
            if( nEntdatePre1Year > eval(calExmnDt.getValue()) ){
                com.showMessage("CMW0033", "", "", "", calExmnDt.id);  	//건강검진일자는 입사일자 1년전 보다 커야합니다.
                return false;
            }
          
            if( eval(calRtirDt.getValue()) < eval(calExmnDt.getValue()) ) {
                com.showMessage("CMW0032", "건강검진일자", "퇴사(예정)일자", "", calExmnDt.id);  //$1는 $2보다 작을 수 없습니다
                return false;
            } 

            if( com.isEmpty(ibxChkIntuNm.getValue()) ){
                com.showMessage("CMW0025", "검진기관", "", "", ibxChkIntuNm.id);  //$1은(는) 필수입력사항입니다.
                return false;
            }
          
        }
        
        if( sbxLabrSalGbCd.getValue() == "CM005019001"){ 						//월급여
            dsTcmWkrMap.set( "dywgAmt" , 0 );    								//일급_금액
        }else if( sbxLabrSalGbCd.getValue() == "CM005019002"){ 					//일급여
            dsTcmWkrMap.set( "dywgAmt" , dsTcmWkrMap.get( "expcSalAmt") );    	//일급_금액
            dsTcmWkrMap.set( "expcSalAmt" , 0 );    							//예상_급여_금액
        }else{                                 	 								//시급
            dsTcmWkrMap.set( "dywgAmt" , 0 );       							//일급_금액
        }
        
        //퇴직 데이터 처리 : 
        if( sType == "retire"){
            if( dsTcmWkrMap.get( "workdate" ) == "" ) {    						//출역일자
                dsTcmWkrMap.set( "rtirDt" , calEntDt.getValue() );       		//퇴직 일자 
            } else {
                dsTcmWkrMap.set( "rtirDt" , dsTcmWkrMap.get( "workdate" ) );    //퇴직 일자 
            }
        }
        
        return true;
    };    
    
    //근로자 리스트 이동
    scwin.fnPage = function() {
        var sTitle = "근로자 리스트";
        var sId = "CM40001005U";
        var sUrl = "/ux/cm/cm4000/CM40001000U.xml";
        var sOpenOpt = "1";
        var sData = dsSrchMap.getJSON();
                
        com.detailOpen(sTitle, sId, sUrl, sOpenOpt, sData);
    };
	
]]></script>


		<w2:require src="/ux/common/udc/udcListCount.xml"></w2:require>
		<w2:require src="/ux/common/udc/udcICnumber.xml"></w2:require>
		<w2:require src="/ux/common/udc/udcPhone.xml"></w2:require>
		<w2:require src="/ux/common/udc/udcAddress.xml"></w2:require>
		<w2:require src="/ux/common/udc/udcEmail.xml"></w2:require>
	</head>
	<body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
		<xf:group style="" id="" class="content_body">
			<xf:group class="navigator_wrap" id="" style="">
				<w2:wframe id="wfm_title" src="/ux/common/navigator.xml" style=""></w2:wframe>		<!-- 근로자관리 -->
			</xf:group>
			<xf:group adaptive="" adaptiveThreshold="" class="w2tb" id="" style="" tagname="table">
				<w2:attributes>
					<w2:summary>현장명 테이블 입니다.</w2:summary>
				</w2:attributes>
				<xf:group tagname="colgroup">
					<xf:group style="width:120.00px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="spnSiteDept" label="현장명" style=""></w2:span>
					</xf:group>
					
					<xf:group class="w2tb_td" style="" tagname="td"><w2:span class="txt_unit" id="" label="" style="" ref="data:dsTcmWkrMap.siteNm"></w2:span></xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="defaultbox" id="" style="">
				<w2:textbox class="df_tt" id="" label="근로자관리&lt;br/&gt;" style="" tagname="h3"></w2:textbox>
				<xf:group class="right_wrap" id="" style="">
					<xf:group class="" id="" style="">
									<w2:anchor class="btn_gcm" clickEventElement="outerDiv"
													ev:onclick="scwin.btnRetire_onclick" id="btnRetire" outerDiv="false" style="">
													<xf:label><![CDATA[퇴직처리]]></xf:label>
									</w2:anchor>
                                    <w2:anchor class="btn_gcm" clickEventElement="outerDiv"
                                                    ev:onclick="scwin.btnContract_onclick" id="btnContract" outerDiv="false" style="">
                                                    <xf:label><![CDATA[계약서 출력]]></xf:label>
                                    </w2:anchor>
									<w2:anchor class="btn_gcm" clickEventElement="outerDiv"
													ev:onclick="scwin.btnDel_onclick" id="btnDel" outerDiv="false" style="">
													<xf:label><![CDATA[삭제]]></xf:label>
									</w2:anchor>
									<w2:anchor class="btn_gcm" clickEventElement="outerDiv" id="btnSave"
													outerDiv="false" style="" ev:onclick="scwin.btnSave_onclick">
													<xf:label><![CDATA[저장]]></xf:label>
									</w2:anchor>
									<w2:anchor class="btn_gcm" clickEventElement="outerDiv" id="btnList" outerDiv="false"
													style="" ev:onclick="scwin.btnList_onclick">
													<xf:label><![CDATA[목록]]></xf:label>
									</w2:anchor>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group adaptive="" adaptiveThreshold="" class="w2tb" id="grpTcmWkr" style="" tagname="table">
				<w2:attributes>
					<w2:summary>근로자관리 신규 입력 테이블 입니다.</w2:summary>
				</w2:attributes>
				<xf:group tagname="colgroup">
					<xf:group style="width:109px;" tagname="col"></xf:group>
					<xf:group style="width:150px;" tagname="col"></xf:group>
					<xf:group style="width:143px;" tagname="col"></xf:group>
					<xf:group style="width:253px;" tagname="col"></xf:group>
					<xf:group style="width:148px;" tagname="col"></xf:group>
					<xf:group style="width:190px;" tagname="col"></xf:group>
					<xf:group style="width:133px;" tagname="col"></xf:group>
					<xf:group style="width:250px;" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="개인번호" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:span class="txt_unit" id="spnErndSeq" label="" ref="data:dsTcmWkrMap.wkrNo" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="근로자계약서" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
					   <xf:input adjustMaxLength="false" id="ibxErndCntrdAflId" style="" ref="data:dsTcmWkrMap.erndCntrdAflNm" readOnly="true" class="req"></xf:input>
						<w2:anchor class="btn_gcm fr" id="btnErndCntrdAflId" outerDiv="false" style="clear:both;" ev:onclick="scwin.btnErndCntrdAflId_onclick">
							<xf:label><![CDATA[첨부]]></xf:label>
						</w2:anchor>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="주민번호" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input id="ibxResnoEnc" style="width: 120px;" class="req" mandatory="true"  placeholder="______-_______" ev:onviewchange=""
							disabled="" ref="data:dsTcmWkrMap.resnoEnc" allowChar="0-9-" maxlength="14" displayFormat="######-#######" ev:onchange="scwin.ibxResnoEnc_onchange">
						</xf:input>
										
						<w2:anchor class="btn_gcm fr" id="btnConfirm" outerDiv="false" style="" ev:onclick="scwin.btnConfirm_onclick">
							<xf:label><![CDATA[확인]]></xf:label>
						</w2:anchor>
					</xf:group>
					<xf:group class="w2tb_th req" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="성명" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input id="ibxWkrNm" style="width: 100px;" initValue="" class="req" mandatory="true"
							disabled="" ref="data:dsTcmWkrMap.wkrNm" allowChar="" maxlength="100" maxByteLength="100">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="내국인여부" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select1 appearance="full" cols="" id="rdoNtvYn" ref="data:dsTcmWkrMap.ntvYn" renderType="radiogroup" rows="1"
							selectedIndex="0" style="" disabled="true" class="req" mandatory="true">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[내국인]]></xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[외국인]]></xf:label>
									<xf:value><![CDATA[N]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="전화번호" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:udc_phone id="udcTelNo" style=""></w2:udc_phone>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="핸드폰" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<w2:udc_phone id="udcCrryTelNo" style=""></w2:udc_phone>
					</xf:group>
				</xf:group>
                <xf:group style="" tagname="tr">
                    <xf:group class="w2tb_th" style="" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="이메일" style=""></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_td" style="" tagname="td">
                        <w2:attributes>
                            <w2:colspan>3</w2:colspan>
                        </w2:attributes>
                        <w2:udc_email id="udcEmail" style=""></w2:udc_email>
                    </xf:group>
                    <xf:group class="w2tb_th req" style="" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="주소" style=""></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_td" style="" tagname="td">
                        <w2:attributes>
                            <w2:colspan>3</w2:colspan>
                        </w2:attributes>
                        <w2:udc_address id="udcAddress" style=""></w2:udc_address>
                    </xf:group>
                </xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th req" style="" tagname="th" id="grpOckndCd">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="직종" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="req" direction="auto"
							disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxOckndCd" ref="data:dsTcmWkrMap.ockndCd" style="width:130px;"
							submenuSize="auto" textAlign="left" mandatory="true">
							<xf:choices>
								<xf:itemset nodeset="data:dsCdTcmOckndMngList">
									<xf:label ref="ockndCdNm"></xf:label>
									<xf:value ref="ockndCd"></xf:value>
								</xf:itemset>
							</xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="담당자" style=""></w2:span>
					</xf:group>
					
					<xf:group class="w2tb_td" style="" tagname="td"><w2:span class="txt_unit" id="spnChrgrEmpnoNm" label="" style="" ref="data:dsTcmWkrMap.chrgrEmpnoNm"></w2:span></xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="근로 및 급여구분" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="req" direction="auto"
							disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxErndGbCd" ref="data:dsTcmWkrMap.erndGbCd" style="width:70px;"
							submenuSize="auto" textAlign="left" mandatory="true" escape="" ev:onchange="scwin.sbxErndGbCd_onchange">
							<xf:choices>
							</xf:choices>
						</xf:select1>
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="req" direction="auto"
							disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxLabrSalGbCd"
							ref="data:dsTcmWkrMap.labrSalGbCd" style="width:70px;" submenuSize="auto" textAlign="left" mandatory="true"
							ev:onchange="scwin.sbxLabrSalGbCd_onchange">
							<xf:choices></xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th req" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="근무구분(주간)" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="req" direction="auto"
										disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxAdpGbCd"
										ref="data:dsTcmWkrMap.adpGbCd" style="width:100px;" submenuSize="auto" textAlign="left" mandatory="true"
										ev:onchange="scwin.sbxAdpGbCd_onchange">
										<xf:choices>
														<xf:item>
																		<xf:label><![CDATA[5일 미만]]></xf:label>
																		<xf:value><![CDATA[CM005002002]]></xf:value>
														</xf:item>
														<xf:item>
																		<xf:label><![CDATA[5일 이상]]></xf:label>
																		<xf:value><![CDATA[CM005002003]]></xf:value>
														</xf:item>
										</xf:choices>
						</xf:select1>
						
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="spnExpcSalAmt" label="월급여액" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input class="ar req" dataType="number" displayFormat="#,###" id="ibxExpcSalAmt" initValue="0"
							style="width: 100px; " disabled="" mandatory="true" ref="data:dsTcmWkrMap.expcSalAmt" allowChar="0-9" maxlength="9">
						</xf:input>
						<w2:span class="txt_unit" id="" label="원" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="spnHldyWkDys" label="주간근무일수" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input adjustMaxLength="false" id="ibxHldyWkDys" initValue="0" class="ar req" disabled=""
							mandatory="true" style="width:90px;" ref="data:dsTcmWkrMap.hldyWkDys" dataType="number" allowChar="0-9" maxlength="1">
						</xf:input>
						<w2:span class="txt_unit" id="" label="일" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="일일근무시간" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input adjustMaxLength="false" class="ar req" disabled="" id="ibxDyDyWkTm" initValue="0"
							mandatory="true" style="width:101px;" ref="data:dsTcmWkrMap.dyDyWkTm" allowChar="0-9" maxlength="2">
						</xf:input>
						<w2:span class="txt_unit" id="" label="시간" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th " tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="시급" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input class="ar req" dataType="number" disabled="" displayFormat="#,###" id="ibxChgHorwgAmt"
							initValue="0" mandatory="true" style="width: 100px; " ref="data:dsTcmWkrMap.chgHorwgAmt" allowChar="0-9" maxlength="9" readOnly="true">
						</xf:input>
						<w2:span class="txt_unit" id="" label="원" style=""></w2:span>
						
						<w2:anchor class="btn_gcm fr" id="btnUctFind" outerDiv="false" style="" ev:onclick="scwin.btnUctFind_onclick">
							<xf:label><![CDATA[단가 조회]]></xf:label>
						</w2:anchor>
						
					</xf:group>
				</xf:group>
				
				
				
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="이체은행" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="req" direction="auto"
										disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxBankCd"
										ref="data:dsTcmWkrMap.constBankCd" style="width:100px;" submenuSize="auto" textAlign="left" mandatory="true">
										<xf:choices></xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="계좌번호" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input adjustMaxLength="false" id="ibxBnactNoEnc" initValue="" class="req"
							disabled="" mandatory="true" ref="data:dsTcmWkrMap.bnactNoEnc" allowChar="0-9,-" maxlength="200">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="입사일자" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:inputCalendar calendarValueType="" class="req" focusOnDateSelect="false" footerDiv="false"
							id="calEntDt" renderDiv="true" renderType="component" rightAlign="false" style="width: 99px;" weekStartsOn="0" mandatory="true" ref="data:dsTcmWkrMap.entDt">
						</w2:inputCalendar>
					</xf:group>
					<xf:group class="w2tb_th req" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="퇴사(예정)일자" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:inputCalendar calendarValueType="" class="req" focusOnDateSelect="false" footerDiv="false"
							id="calRtirDt" renderDiv="true" renderType="component" rightAlign="false" style="width: 99px;" weekStartsOn="0" mandatory="true" ref="data:dsTcmWkrMap.rtirDt">
						</w2:inputCalendar>
						<xf:select appearance="full" class="" cols="" id="complDtPrtYn" renderType="checkboxgroup" rows=""
							selectedindex="" style="" ref="data:dsTcmWkrMap.complDtPrtYn" falseValue="N">
							<xf:choices>
								<xf:item>
									<xf:label>준공일자문구출력여부</xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select>
					</xf:group>

				</xf:group>
				
                <xf:group style="" tagname="tr" id="grpRtirRsn">
                    <xf:group class="w2tb_th" style="" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="재직구분" style=""></w2:span>
                    </xf:group>
                    
                    <xf:group class="w2tb_td" style="" tagname="td">
                        <w2:span class="txt_unit" id="spnBeofYnNm" label="" style="" ref="data:dsTcmWkrMap.beofYnNm"></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_th" style="" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="퇴직사유" style=""></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_td" style="" tagname="td">
                        
                        <xf:select1 allOption="" appearance="minimal" chooseOption="true" class="" direction="auto"
                        				disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxRtirRsnCn"
                        				ref="data:dsTcmWkrMap.rtirRsnCd" style="width:100px;" submenuSize="auto" textAlign="left"
                        				mandatory="true" chooseOptionLabel="">
                        				<xf:choices>
                        								<xf:item>
                        												<xf:label><![CDATA[계약종료]]></xf:label>
                        												<xf:value><![CDATA[CM00501501]]></xf:value>
                        								</xf:item>
                        								<xf:item>
                        												<xf:label><![CDATA[개인사정]]></xf:label>
                        												<xf:value><![CDATA[CM00501502]]></xf:value>
                        								</xf:item>
                        								<xf:item>
                        												<xf:label><![CDATA[질병]]></xf:label>
                        												<xf:value><![CDATA[CM00501503]]></xf:value>
                        								</xf:item>
                        				</xf:choices>
                        </xf:select1>
                    </xf:group>
                    <xf:group class="w2tb_th" style="" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="평가등급" style=""></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_td" style="" tagname="td">
                    
                    
                        <xf:select1 allOption="" appearance="minimal" chooseOption="true" class="" direction="auto"
                        				disabled="" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxLabrEvalGrdCd"
                        				ref="data:dsTcmWkrMap.labrEvalGrdCd" style="width:100px;" submenuSize="auto"
                        				textAlign="left" mandatory="true" chooseOptionLabel="">
                        				<xf:choices>
                        								<xf:item>
                        												<xf:label><![CDATA[상]]></xf:label>
                        												<xf:value><![CDATA[CM00501401]]></xf:value>
                        								</xf:item>
                        								<xf:item>
                        												<xf:label><![CDATA[중]]></xf:label>
                        												<xf:value><![CDATA[CM00501402]]></xf:value>
                        								</xf:item>
                        								<xf:item>
                        												<xf:label><![CDATA[하]]></xf:label>
                        												<xf:value><![CDATA[CM00501401]]></xf:value>
                        								</xf:item>
                        				</xf:choices>
                        </xf:select1>

                    </xf:group>
                    <xf:group class="w2tb_th" tagname="th">
                        <w2:attributes>
                            <w2:scope>row</w2:scope>
                        </w2:attributes>
                        <w2:span id="" label="사직서" style=""></w2:span>
                    </xf:group>
                    <xf:group class="w2tb_td" tagname="td">
                        <xf:input adjustMaxLength="false" id="ibxRsnpAflId" style="" ref="data:dsTcmWkrMap.rsnpAflNm" readOnly="true"></xf:input>
                        <w2:anchor class="btn_gcm fr" id="btnRsnpAflId" outerDiv="false" style="clear:both;" ev:onclick="scwin.btnRsnpAflId_onclick">
                            <xf:label><![CDATA[첨부]]></xf:label>
                        </w2:anchor>
                    </xf:group>

                </xf:group>
				
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th req" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="면담내용" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<xf:textarea class="req" id="ftftCn" style="" disabled="" mandatory="true" ref="data:dsTcmWkrMap.ftftCn" minByteLength="4000" maxlength="4000"></xf:textarea>
					</xf:group>
					<xf:group class="w2tb_th " style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="특기사항(평가)" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<xf:textarea class="" id="spcmtCn" style="" disabled="" mandatory="true" ref="data:dsTcmWkrMap.spcmtCn" maxlength="4000" minByteLength="4000"></xf:textarea>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="defaultbox" id="" style="">
				<w2:textbox class="df_tt" id="" label="보험적용사항" style="" tagname="h3"></w2:textbox>
			</xf:group>
			<xf:group adaptive="" adaptiveThreshold="" class="w2tb" id="grpTcmEplmtInsurExclMng" style="" tagname="table">
				<w2:attributes>
					<w2:summary>보험적용사항 입력 테이블 입니다.</w2:summary>
				</w2:attributes>
				<xf:group tagname="colgroup">
										<xf:group style="width:109px;" tagname="col"></xf:group>
					<xf:group style="width:150px;" tagname="col"></xf:group>
					<xf:group style="width:143px;" tagname="col"></xf:group>
					<xf:group style="width:253px;" tagname="col"></xf:group>
					<xf:group style="width:148px;" tagname="col"></xf:group>
					<xf:group style="width:190px;" tagname="col"></xf:group>
					<xf:group style="width:133px;" tagname="col"></xf:group>
					<xf:group style="width:250px;" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="고용보험" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select appearance="full" class="" cols="" id="cbxEntrYn" ref="data:dsTcmWkrMap.entrYn" renderType="checkboxgroup" rows=""
							selectedindex="" style="" falseValue="N" disabled="true">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[]]></xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="첨부서류" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
					   <xf:input adjustMaxLength="false" id="ibxEtcAflId" style="" ref="data:dsTcmWkrMap.etcAflNm" readOnly="true"></xf:input>
						<w2:anchor class="btn_gcm fr" id="btnEtcAflId" outerDiv="false" style="" ev:onclick="scwin.btnEtcAflId_onclick">
							<xf:label><![CDATA[첨부]]></xf:label>
						</w2:anchor>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="국민연금" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<xf:select appearance="full" class="" cols="" id="cbxNatnpPnsnAplyYn"
							ref="data:dsTcmWkrMap.natnpPnsnAplyYn" renderType="checkboxgroup" rows="" selectedindex="" style=""
							falseValue="N">
							<xf:choices>
								<xf:item>
									<xf:label>[월납부액 : 보수월액 X 9% (사용자:4.5)]</xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="건강보험" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<xf:select appearance="full" class="" cols="" id="cbxHlthInsurAplyYn"
							ref="data:dsTcmWkrMap.hlthInsurAplyYn" renderType="checkboxgroup" rows="" selectedindex="" style=""
							falseValue="N">
							<xf:choices>
								<xf:item>
									<xf:label>[월보험료 : 보수월액 X 6.46% (사용자:3.23%)]</xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="건강보험증권번호" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input id="ibxHlthInsurNo" style="width: 111px;" ref="data:dsTcmWkrMap.hlthInsurNo" allowChar="0-9 a-z A-Z" maxlength="20" minByteLength="20"></xf:input>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="퇴직공제여부" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:select appearance="full" class="" cols="" id="cbxRtirDdctAplyYn"
							ref="data:dsTcmWkrMap.rtirDdctAplyYn" renderType="checkboxgroup" rows="" selectedindex="" style=""
							falseValue="N">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[]]></xf:label>
									<xf:value><![CDATA[Y]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="defaultbox" id="" style="">
				<w2:textbox class="df_tt" id="" label="건강검진사항" style="" tagname="h3"></w2:textbox>
			</xf:group>
			<xf:group adaptive="" adaptiveThreshold="" class="w2tb" id="grpTcmHlthExmn" style="" tagname="table">
				<w2:attributes>
					<w2:summary>건강검진사항 입력 테이블 입니다.</w2:summary>
				</w2:attributes>
				<xf:group tagname="colgroup">
					<xf:group style="width:109px;" tagname="col"></xf:group>
					<xf:group style="width:150px;" tagname="col"></xf:group>
					<xf:group style="width:143px;" tagname="col"></xf:group>
					<xf:group style="width:253px;" tagname="col"></xf:group>
					<xf:group style="width:148px;" tagname="col"></xf:group>
					<xf:group style="width:190px;" tagname="col"></xf:group>
					<xf:group style="width:133px;" tagname="col"></xf:group>
					<xf:group style="width:250px;" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="건강검진일자" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:inputCalendar calendarClass="" calendarValueType="" focusOnDateSelect="false"
							footerDiv="false" id="calExmnDt" renderDiv="true" renderType="component" rightAlign="false" style="width: 100px;"
							weekStartsOn="0" ref="data:dsTcmWkrMap.exmnDt">
						</w2:inputCalendar>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="건강검진종류" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
<!-- 						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" displayMode="label" id="" ref="" style="width:100px;"
							submenuSize="auto" textAlign="left">
							<xf:choices>
								<xf:itemset nodeset="data:dsCdCM01801">
									<xf:label ref="cd"></xf:label>
									<xf:value ref="cdNm"></xf:value>
								</xf:itemset>
							</xf:choices>
						</xf:select1> -->
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxExmnKndCd" ref="data:dsTcmWkrMap.exmnKndCd" style="width:100px;"
							submenuSize="auto" textAlign="left">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[신규채용]]></xf:label>
									<xf:value><![CDATA[CM0180101]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[일반]]></xf:label>
									<xf:value><![CDATA[CM0180102]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[특수]]></xf:label>
									<xf:value><![CDATA[CM0180103]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[임시]]></xf:label>
									<xf:value><![CDATA[CM0180104]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="검진결과" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
<!-- 						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" displayMode="label" id="" ref="" style="width:85px;"
							submenuSize="auto" textAlign="left">
							<xf:choices>
								<xf:itemset nodeset="data:dsCdCM01808">
									<xf:label ref="cdNm"></xf:label>
									<xf:value ref="cd"></xf:value>
								</xf:itemset>
							</xf:choices>
						</xf:select1> -->
						<xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxRsltGbCd" ref="data:dsTcmWkrMap.rsltGbCd" style="width:85px;"
							submenuSize="auto" textAlign="left">
							<xf:choices>
								<xf:item>
									<xf:label><![CDATA[양호]]></xf:label>
									<xf:value><![CDATA[CM0180801]]></xf:value>
								</xf:item>
								<xf:item>
									<xf:label><![CDATA[불량]]></xf:label>
									<xf:value><![CDATA[CM0180802]]></xf:value>
								</xf:item>
							</xf:choices>
						</xf:select1>
					
					<xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto"
						disabled="false" disabledClass="w2selectbox_disabled" displayMode="label" id="sbxDssKndCd" ref="data:dsTcmWkrMap.dssKndCd" style="width:110px;"
						submenuSize="auto" textAlign="left">
						<xf:choices>
							<xf:item>
								<xf:label><![CDATA[양호]]></xf:label>
								<xf:value><![CDATA[CM01802001]]></xf:value>
							</xf:item>
							<xf:item>
								<xf:label><![CDATA[고혈압]]></xf:label>
								<xf:value><![CDATA[CM01802002]]></xf:value>
							</xf:item>
							<xf:item>
								<xf:label><![CDATA[당뇨]]></xf:label>
								<xf:value><![CDATA[CM01802003]]></xf:value>
							</xf:item>
						</xf:choices>
					</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="검진기관" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input id="ibxChkIntuNm" style="width: 175px;" ref="data:dsTcmWkrMap.chkIntuNm" minByteLength="300" maxlength="300"></xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="소견내용" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
						</w2:attributes>
						<xf:input id="ibxExmnOpinCn" style="width: 440px;" ref="data:dsTcmWkrMap.exmnOpinCn" minlength="1000" minByteLength="1000"></xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td"></xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span id="" label="" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
					</xf:group>
				</xf:group>
			</xf:group>
		</xf:group>
	</body>
</html>
