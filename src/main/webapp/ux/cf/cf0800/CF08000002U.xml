<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
			    <w2:dataList baseNode="list" repeatNode="map" style="" id="dsTcfAsBbsList" saveRemovedData="true">
			        <w2:columnInfo>
			            <w2:column id="bbsSeq" name="게시판_순번" dataType="text"></w2:column>
			            <w2:column id="siteCd" name="현장코드" dataType="text"></w2:column>
			            <w2:column id="siteNm" name="현장명" dataType="text"></w2:column>
			            <w2:column id="stusGbCd" name="상태_구분_코드[CF096]" dataType="text"></w2:column>
			            <w2:column id="stusGbNm" name="상태_구분_명" dataType="text"></w2:column>
			            <w2:column id="reqGbCd" name="요청_구분_코드[CF097]" dataType="text"></w2:column>
			            <w2:column id="reqGbNm" name="요청_구분_명" dataType="text"></w2:column>
			            <w2:column id="reqTtl" name="요청_제목" dataType="text"></w2:column>
			            <w2:column id="reqCn" name="요청_내용" dataType="text"></w2:column>
			            <w2:column id="etcCn" name="기타_내용" dataType="text"></w2:column>
			            <w2:column id="prcgCn" name="처리_내용" dataType="text"></w2:column>
			            <w2:column id="prcgDt" name="처리_일자" dataType="text"></w2:column>
			            <w2:column id="prcgPrDt" name="처리_예정_일자" dataType="text"></w2:column>
			            <w2:column id="hiddenYn" name="숨김_여부" dataType="text"></w2:column>
			            <w2:column id="rcptDeptCd" name="접수_부서_코드" dataType="text"></w2:column>
			            <w2:column id="rcptDeptCdNm" name="접수_부서_명" dataType="text"></w2:column>
			            <w2:column id="rcptRealDeptCd" name="접수부서_실제_코드" dataType="text"></w2:column>
			            <w2:column id="menu1Id" name="메뉴_1_ID" dataType="text"></w2:column>
			            <w2:column id="menu1Nm" name="메뉴_1_NM" dataType="text"></w2:column>
			            <w2:column id="menu2Id" name="메뉴_2_ID" dataType="text"></w2:column>
			            <w2:column id="menu2Nm" name="메뉴_2_NM" dataType="text"></w2:column>
			            <w2:column id="menu3Id" name="메뉴_3_ID" dataType="text"></w2:column>
			            <w2:column id="menu3Nm" name="메뉴_3_NM" dataType="text"></w2:column>
			            <w2:column id="chgbfCn" name="변경전_내용" dataType="text"></w2:column>
			            <w2:column id="chgafCn" name="변경후_내용" dataType="text"></w2:column>
			            <w2:column id="prDuraDtGb" name="예상_소요_일자_구분" dataType="text"></w2:column>
			            <w2:column id="prDuraDtNm" name="예상_소요_일자_구분_명" dataType="text"></w2:column>
			            <w2:column id="aflId" name="첨부파일_ID" dataType="text"></w2:column>
			            <w2:column id="fstRegprEmpno" name="최초_등록자_사번" dataType="text"></w2:column>
			            <w2:column id="fstRegprEmpnm" name="최초_등록자_명" dataType="text"></w2:column>
			            <w2:column id="fstRegDtm" name="최초_등록_일시" dataType="text"></w2:column>
			            <w2:column id="fnlModprEmpno" name="최종_수정자_사번" dataType="text"></w2:column>
			            <w2:column id="fnlModiDtm" name="최종_수정_일시" dataType="text"></w2:column>
			        </w2:columnInfo>
			        <w2:data use="false"></w2:data>
			    </w2:dataList>
			    <w2:dataMap baseNode="map" id="dsTcfAsBbsMap">
			        <w2:keyInfo>
			            <w2:key id="bbsSeq" name="게시판_순번" dataType="text"></w2:key>
			            <w2:key id="siteCd" name="현장코드" dataType="text"></w2:key>
			            <w2:key id="siteNm" name="현장명" dataType="text"></w2:key>
			            <w2:key id="stusGbCd" name="상태_구분_코드[CF096]" dataType="text"></w2:key>
			            <w2:key id="reqGbCd" name="요청_구분_코드[CF097]" dataType="text"></w2:key>
			            <w2:key id="reqTtl" name="요청_제목" dataType="text"></w2:key>
			            <w2:key id="reqCn" name="요청_내용" dataType="text"></w2:key>
			            <w2:key id="etcCn" name="기타_내용" dataType="text"></w2:key>
			            <w2:key id="prcgCn" name="처리_내용" dataType="text"></w2:key>
			            <w2:key id="prcgDt" name="처리_일자" dataType="text"></w2:key>
			            <w2:key id="prcgPrDt" name="처리_예정_일자" dataType="text"></w2:key>
			            <w2:key id="hiddenYn" name="숨김_여부" dataType="text"></w2:key>
			            <w2:key id="rcptDeptCd" name="접수_부서_코드" dataType="text"></w2:key>
			            <w2:key id="rcptRealDeptCd" name="접수부서_실제_코드" dataType="text"></w2:key><w2:key id="menu1Id" name="메뉴_1_ID" dataType="text"></w2:key>
			            <w2:key id="menu1Nm" name="메뉴_1_NM" dataType="text"></w2:key>
			            <w2:key id="menu2Id" name="메뉴_2_ID" dataType="text"></w2:key>
			            <w2:key id="menu1Nm" name="메뉴_2_NM" dataType="text"></w2:key>
			            <w2:key id="menu3Id" name="메뉴_3_ID" dataType="text"></w2:key>
			            <w2:key id="menu1Nm" name="메뉴_3_NM" dataType="text"></w2:key>
			            <w2:key id="chgbfCn" name="변경전_내용" dataType="text"></w2:key>
			            <w2:key id="chgafCn" name="변경후_내용" dataType="text"></w2:key>
			            <w2:key id="prDuraDtGb" name="예상_소요_일자_구분" dataType="text"></w2:key>
			            <w2:key id="aflId" name="첨부파일_ID" dataType="text"></w2:key>
			            <w2:key id="fstRegprEmpno" name="최초_등록자_사번" dataType="text"></w2:key>
			            <w2:key id="fstRegDtm" name="최초_등록_일시" dataType="text"></w2:key>
			            <w2:key id="fnlModprEmpno" name="최종_수정자_사번" dataType="text"></w2:key>
			            <w2:key id="fnlModiDtm" name="최종_수정_일시" dataType="text"></w2:key>

			            <w2:key id="chgStusYn" name="상태값_변경_여부" dataType="text"></w2:key>
			            
			        </w2:keyInfo>
			    </w2:dataMap>
			    <w2:dataMap baseNode="map" id="dsSearchMap">
			        <w2:keyInfo>
			            <w2:key id="siteCd" name="현장코드" dataType="text"></w2:key>
			            <w2:key id="reqFrDt" name="검색_요청_시작_일자" dataType="text"></w2:key>
			            <w2:key id="reqToDt" name="검색_요청_종료_일자" dataType="text"></w2:key>
			            <w2:key id="stusGbCd" name="상태" dataType="text"></w2:key>
			            <w2:key id="rcptDeptCd" name="접수부서" dataType="text"></w2:key>
			            <w2:key id="fstRegprEmpnm" name="요청자" dataType="text"></w2:key>
			            <w2:key id="userEmpno" name="로그인_사용자_사번" dataType="text"></w2:key>
			        </w2:keyInfo>
			    </w2:dataMap>
			    <w2:dataList baseNode="list" repeatNode="map" id="dsTcfAsBbsHistList" saveRemovedData="true">
			        <w2:columnInfo>
			            <w2:column id="bbsSeq" name="게시판_순번" dataType="text"></w2:column>
			            <w2:column id="histSeq" name="이력_순번" dataType="text"></w2:column>
			            <w2:column id="stusGbCd" name="상태_구분_코드[CF096]" dataType="text"></w2:column>
			            <w2:column id="stusGbNm" name="상태_구분_명" dataType="text"></w2:column><w2:column id="empDeptNm" name="접수자_부서명" dataType="text"></w2:column>
			            <w2:column id="fstRegprEmpno" name="최초_등록자_사번" dataType="text"></w2:column>
			            <w2:column id="fstRegprEmpnm" name="최초_등록자_명" dataType="text"></w2:column>
			            <w2:column id="fstRegDtm" name="최초_등록_일시" dataType="text"></w2:column>
			            <w2:column id="fnlModprEmpno" name="최종_수정자_사번" dataType="text"></w2:column>
			            <w2:column id="fnlModiDtm" name="최종_수정_일시" dataType="text"></w2:column>


			            
			        </w2:columnInfo>
			    </w2:dataList>
			    <w2:dataList baseNode="list" repeatNode="map" id="dsMenu1List" saveRemovedData="true">
			        <w2:columnInfo>
			            <w2:column id="menuId" name="메뉴ID" dataType="text"></w2:column>
			            <w2:column id="menuNm" name="메뉴명" dataType="text"></w2:column>
			        </w2:columnInfo>
			    </w2:dataList>
			    <w2:dataList baseNode="list" repeatNode="map" id="dsMenu2List" saveRemovedData="true">
			        <w2:columnInfo>
			            <w2:column id="menuId" name="메뉴ID" dataType="text"></w2:column>
			            <w2:column id="menuNm" name="메뉴명" dataType="text"></w2:column>
			        </w2:columnInfo>
			    </w2:dataList>
			    <w2:dataList baseNode="list" repeatNode="map" id="dsMenu3List" saveRemovedData="true">
			        <w2:columnInfo>
			            <w2:column id="menuId" name="메뉴ID" dataType="text"></w2:column>
			            <w2:column id="menuNm" name="메뉴명" dataType="text"></w2:column>
			        </w2:columnInfo>
			    </w2:dataList>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
		</xf:model>
        <script type="text/javascript" src="/resources/js/lib/util/jquery.blockUI.js"></script>
		<script type="javascript" lazy="false"><![CDATA[
/***************************************************************************
 * Program ID   : CF08000002U 
 * Program Name : A/S게시판
 * Author       : dslee
 * Date         : 2022.07.01
 * 
 * History 
 * ======================================== 
 * 변경일자     수정자   내 용 
 * ======================================== 
 * 2022.07.01   dslee    최초작성    
 **************************************************************************/ 
	/***************************************************************************
     *  [1] 전역변수 
     ***************************************************************************/
     scwin.rowIdx = -1; //저장할 때 선택된 요청목록 idx
     
    /***************************************************************************
     *  [2] onpageload(초기화포함)
     ***************************************************************************/  
    scwin.onpageload = function() {
        //요청현장 udc set
        let siteCdObj = com.getUdcComp("wfmKeySiteInfo2", "ibxKeySiteCd");
        let siteNmObj = com.getUdcComp("wfmKeySiteInfo2", "ibxKeySiteNm");
        
        siteCdObj.setRef("data:" + dsTcfAsBbsMap.id + ".siteCd");
        siteNmObj.setRef("data:" + dsTcfAsBbsMap.id + ".siteNm");

        //요청기간 오늘-7일부터 오늘까지로 set 
        com.setUdcValue("udcPtupPeriodcalendar", "frDate", $w.dateAdd($w.getCurrentServerDate("yyyyMMdd") , -7));
        com.setUdcValue("udcPtupPeriodcalendar", "toDate", $w.getCurrentServerDate("yyyyMMdd"));
        
        dsSearchMap.set("reqFrDt", com.getUdcValue("udcPtupPeriodcalendar", "frDate"));
        dsSearchMap.set("reqToDt", com.getUdcValue("udcPtupPeriodcalendar", "toDate"));
        
        //공통코드 set
        com.selCdList("keyStusGbCd", "CF096", "Y"); //조회조건 상태
        com.selCdList("stusGbCd", "CF096", "Y"); //상태(map)
        com.selCdList("keyRcptDeptCd", "CF098", "Y"); //조회조건 접수부서
        com.selCdList("rcptDeptCd", "CF098", "Y"); //접수부서(map)
        com.selCdList("reqGbCd", "CF097", "Y"); //요청구분(map)
       
        //버튼 비활성화
        btnSave.setDisabled(false); //저장
        btnDel.setDisabled(false); //삭제
        btnCnclOffr.setDisabled(true); //신청취소
        btnRcpt.setDisabled(true); //접수
        btnRtn.setDisabled(true); //반송
        btnPrcgIng.setDisabled(true); //처리중
        btnCpltPrcg.setDisabled(true); //처리완료
        btnNew.setDisabled(false); //신규
        
        scwin.fnInitial(); //화면 초기화
        
        dsSearchMap.set("userEmpno", sessionStorage.userEmpno); //로그인_사용자_ID set
        
        scwin.btnFind_onclick();
    };

    scwin.onpageunload = function() {};

	// 화면 초기화(필수)
	 scwin.fnInitial = function() {
        grpTcfAsBbsMap.init(); //map 초기화
        
        // 첨부파일 처리
        com.getUdcComp("udcAflId", "gen_aflList").addClass("col1");  // 첨부파일 LIST 1개씩 : UDC.xml 참조
        com.setUdcValue("udcAflId", "jobGbCd", "CF");
        com.setUdcValue("udcAflId", "menuId", "CF08000002U");
        com.setUdcValue("udcAflId", "fileExt", "*.*");
        com.setUdcValue("udcAflId", "usage", "INS");                 // 버튼숨기기처리 : 필수값
        com.setUdcValue("udcAflId", "fileSize", "INS");              // 용량표시안함(표시함:INS) : 필수값   
	}; 
    
	/**************************************************************************
	 *  [3] 사용자정의 함수
	 **************************************************************************/
     /* 대분류 조회 */
     scwin.selectMenu1List = function() {
        ajaxLib.ajax("/cf/cf0800/CF08000002U/selectMenu1List", {
             mode: "synchronous",
             method: "POST",
             requestData: dsSearchMap.getJSON(),
             callback: function(result, e) {
                         dsMenu1List.setJSON(result.data);     
             },
             errCallback: function(e) {console.log(e);}   
        });
     }	
     
     /* 중분류 조회 */
     scwin.selectMenu2List = function() {
        ajaxLib.ajax("/cf/cf0800/CF08000002U/selectMenu2List", {
             mode: "synchronous",
             method: "POST",
             requestData: dsTcfAsBbsMap.getJSON(),
             callback: function(result, e) {
                         dsMenu2List.setJSON(result.data);     
             },
             errCallback: function(e) {console.log(e);}   
        });
     }  
     
     /* 소분류 조회 */
     scwin.selectMenu3List = function() {
        ajaxLib.ajax("/cf/cf0800/CF08000002U/selectMenu3List", {
             mode: "synchronous",
             method: "POST",
             requestData: dsTcfAsBbsMap.getJSON(),
             callback: function(result, e) {
                         dsMenu3List.setJSON(result.data);     
             },
             errCallback: function(e) {console.log(e);}   
        });
     }  
     
	/**************************************************************************
	 *  [4] Callback
	 **************************************************************************/	
    /* 현장코드 변경 이벤트 */
    scwin.WFrameSiteInfo_change_callback = function() {
        // 현장변경
        dsSearchMap.set("siteCd", wfmKeySiteInfo.getWindow().ibxKeySiteCd.getValue());  //검색 조건
        dsTcfAsBbsMap.set("siteCd", wfmKeySiteInfo2.getWindow().ibxKeySiteCd.getValue());  //요청 상세
    }
    
    /**************************************************************************
     *  [5] Event 함수 
     **************************************************************************/
    /* A/S게시판 조회 */
	scwin.btnFind_onclick = function() {
        if (cbxAll.getValue() == "Y") {
            dsSearchMap.set( "siteCd" , "" );
        }else {
            if (wfmKeySiteInfo.getWindow().ibxKeySiteCd.getValue() == "") {
                com.showMessage("CFW0004", "현장");   //$1을(를) 선택하십시오.
                return false;
            }
            
            dsSearchMap.set("siteCd" , wfmKeySiteInfo.getWindow().ibxKeySiteCd.getValue());
        }
        
        dsSearchMap.set("reqFrDt", com.getUdcValue("udcPtupPeriodcalendar", "frDate"));
        dsSearchMap.set("reqToDt", com.getUdcValue("udcPtupPeriodcalendar", "toDate"));        
        
		ajaxLib.ajax("/cf/cf0800/CF08000002U/selectTcfAsBbsList", {
             mode: "synchronous",
             method: "POST",
             requestData: dsSearchMap.getJSON(),
             callback: function(result, e) {
                           com.setUdcValue("udcAflId", "aflId", ""); //첨부파일 udc 초기화
                                                      
                           dsTcfAsBbsMap.set("chgStusYn", "N"); //상태값_변경_여부' N'
                           dsTcfAsBbsList.setJSON(result.data);   
                           com.setUdcValue("dsTotalCount","udcListCount", dsTcfAsBbsList.getTotalRow()); 
                              
                           dsTcfAsBbsMap.setEmptyValue();
                           
                           var idx = scwin.rowIdx == -1 ? 0 : scwin.rowIdx;
                           grdTcfNotiList.setFocusedCell(idx , 0);
                           
                           scwin.grdTcfNotiList_oncellclick(idx); //상세 조회
             },
             errCallback: function(e) {console.log(e);}    
        });
	};
	
    /* 신규 버튼 클릭 */
	scwin.btnNew_onclick = function() {
        dsTcfAsBbsHistList.removeAll();
        dsTcfAsBbsMap.setEmptyValue(); //map 초기화
        
        com.setUdcValue("udcAflId", "aflId", ""); //첨부파일 udc 초기화
        
        dsTcfAsBbsMap.set("hiddenYn", "N"); //숨김_여부' N'
        
        grpTcfAsBbsMap.setDisabled(false); //테이블 활성화
        btnSave.setDisabled(false); //저장 버튼 활성화
        
        btnOffr.setDisabled(true); //신청 버튼 비활성화
        btnRtn.setDisabled(true); //반송 버튼 비활성화
        btnCpltPrcg.setDisabled(true); //처리완료 버튼 비활성화
        
        stusGbCd.setDisabled(true); //상태 작성중으로 고정
        prDuraDtGb.setDisabled(true); //기간구분 단기로 고정
        prcgCn.setDisabled(true); //처리내용 비활성화
        etcCn.setDisabled(true); //기타의견 비활성화
        prcgPrDt.setReadOnly(true); //처리예정일 비활성화
        btnCnclOffr.setDisabled(true); //신청취소 버튼 비활성화 
	};
	
    /* 저장 버튼 클릭 */
	scwin.btnSave_onclick = function() {    
        if (dsTcfAsBbsMap.get("reqTtl") == "") {
            com.showMessage('CFW0010','요청제목은 필수입니다.'); //$
            return false;
            
        }else if (dsTcfAsBbsMap.get("reqGbCd") == "") {
            com.showMessage('CFW0010','요청구분은 필수입니다.'); //$
            return false;
            
        }else if (dsTcfAsBbsMap.get("siteCd") == "") {
            com.showMessage('CFW0010','요청현장은 필수입니다.'); //$
            return false;
            
        }else if (dsTcfAsBbsMap.get("reqCn") == "") {
            com.showMessage('CFW0010','요청내용은 필수입니다.'); //$
            return false;
            
        }else if (dsTcfAsBbsMap.get("menu1Id") == "" || 
                   dsTcfAsBbsMap.get("menu2Id") == "" ||
                   dsTcfAsBbsMap.get("menu3Id") == "") {
            com.showMessage('CFW0010','메뉴구분은 필수입니다.'); //$
            return false;
            
        }else if (dsTcfAsBbsMap.get("rcptDeptCd") == "") {
            com.showMessage('CFW0010','접수부서는 필수입니다.'); //$
            return false;
        }
        
        if (dsTcfAsBbsMap.get("stusGbCd") == "CF09602" && dsTcfAsBbsMap.get("reqGbCd") == "CF09702") { //신청 and 요청구분: 신규/제안
            if (dsTcfAsBbsMap.get("chgbfCn") == "") {
                com.showMessage("CFW0010","변경 전 내용을 입력해주세요."); //$
                return false;
                
            }else if (dsTcfAsBbsMap.get("chgafCn") == "") {
                com.showMessage("CFW0010","변경 후 내용을 입력해주세요."); //$
                return false;
            }
        }
        
        if (dsTcfAsBbsMap.get("chgStusYn") == "Y") {
            if (dsTcfAsBbsMap.get("stusGbCd") == "CF09602" && dsTcfAsBbsMap.get("rcptDeptCd") == "CF09801") { //신청 and 접수부서: IT(전산요청)
                com.showMessage("CFA0029"); //신청 전후 해당 접수 부서와 협의가 필요합니다.
            }
        }  
        
        // 첨부파일 ID SET
        dsTcfAsBbsMap.set( "aflId" , com.getUdcValue("udcAflId", "aflId") );
    	
        //if (dsTcfAsBbsMap.get("stusGbCd") != "CF09602" && dsTcfAsBbsMap.get("chgStusYn") != 'Y') { //상태가 신청이 아닌경우
        if (dsTcfAsBbsMap.get("stusGbCd") != "CF09602") {
            if(!confirm("저장하시겠습니까?")) return;
        }
        
        ajaxLib.ajax("/cf/cf0800/CF08000002U/saveTcfAsBbs", {
             mode: "synchronous",
             method: "POST",
             requestData: dsTcfAsBbsMap.getJSON(),
             callback: function(result, e) {
                         if (dsTcfAsBbsMap.get("chgStusYn") != 'Y') { //상태값이 변경되지 않은 경우
                             com.showMessage("SCN0002", "저장");	//$1 되었습니다.
                         }
                         
                         scwin.rowIdx = dsTcfAsBbsList.getRowPosition();
                         scwin.btnFind_onclick(); //재조회
             },
             errCallback: function(e) {console.log(e);}    
        });
	};
	
    /* 삭제 버튼 클릭 */
	scwin.btnDel_onclick = function() {
    	if (!confirm("삭제하시겠습니까?")) return;
            ajaxLib.ajax("/cf/cf0800/CF08000002U/deleteTcfAsBbs", {
                 mode: "synchronous",
                 method: "POST",
                 requestData: dsTcfAsBbsMap.getJSON(),
                 callback: function(result, e) {
                             com.showMessage("SCN0002", "삭제"); //$1 되었습니다.
                             
                             scwin.btnFind_onclick(); //재조회
                 },
                 errCallback: function(e) {console.log(e);}   
        });
	};
	
	/* 요청목록 그리드 클릭시 */
	scwin.grdTcfNotiList_oncellclick = function(row) {
		let rowObj = dsTcfAsBbsList.getRowJSON(row);
        
        //요청상세 MAP에 SET
        dsTcfAsBbsMap.setJSON(rowObj);
        
        scwin.selectMenu1List(); //메뉴구분 조회
        
        com.setUdcValue("udcAflId", "aflId", dsTcfAsBbsMap.get("aflId"));  //첨부파일ID
        
        ajaxLib.ajax("/cf/cf0800/CF08000002U/selectTcfAsBbsHistList", {
             mode: "synchronous",
             method: "POST",
             requestData: dsTcfAsBbsMap.getJSON(),
             callback: function(result, e) {
                           dsTcfAsBbsHistList.setJSON(result.data);   
                           
                           if (dsTcfAsBbsList.getTotalRow() == ''){ //조회될 요청목록이 한 건도 없을 때
                                btnOffr.setDisabled(true); //신청버튼
                            }
                            
                           if (dsTcfAsBbsMap.get("rcptRealDeptCd") == sessionStorage.deptCd) { //접수부서 = 로그인자 부서
                               if (dsTcfAsBbsMap.get("stusGbCd") == "CF09601") { //상태: 작성중
                                   stusGbCd.setDisabled(true); //상태
                                   prDuraDtGb.setDisabled(true); //기간구분
                                   prcgPrDt.setDisabled(true); //처리예정일
                                   prcgCn.setDisabled(true);//처리내용
                                   etcCn.setDisabled(true);//기타의견
                                   btnDel.setDisabled(false); //삭제
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09602") { //상태: 신청
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(false); //첨부파일 
                                   btnOffr.setDisabled(true); //신청버튼
                                   btnCnclOffr.setDisabled(false); //신청취소
                                   btnRcpt.setDisabled(false); //접수
                                   etcCn.setDisabled(false); //기타의견 
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 접수부서 변경, 요청목록 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        rcptDeptCd.setDisabled(false); //접수부서
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                        rcptDeptCd.setDisabled(true); //접수부서
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09603") { //상태: 접수
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(false); //첨부파일 활성화
                                   btnOffr.setDisabled(true); //신청
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   btnRcpt.setDisabled(true); //접수
                                   btnRtn.setDisabled(false); //반송
                                   btnPrcgIng.setDisabled(false); //처리중
                                   btnCpltPrcg.setDisabled(false); //처리완료
                                   prDuraDtGb.setDisabled(false); //기간구분
                                   prcgPrDt.setDisabled(false); //처리예정일
                                   prcgPrDt.setReadOnly(false); //처리예정일
                                   prcgCn.setDisabled(false); //처리내용 비활성화
                                   etcCn.setDisabled(false); //기타의견 
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09604") { //상태: 반송
                                   grpTcfAsBbsMap.setDisabled(true);
                                   btnRtn.setDisabled(true); //반송
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   btnPrcgIng.setDisabled(true); //처리중
                                   btnCpltPrcg.setDisabled(true); //처리완료
                                   btnRcpt.setDisabled(true); //접수
                                   btnOffr.setDisabled(true); //신청
                                   btnSave.setDisabled(true); //저장
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09605") { //상태: 처리중
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(false); //첨부파일 
                                   btnOffr.setDisabled(true); //신청
                                   btnPrcgIng.setDisabled(true); //처리중
                                   btnRcpt.setDisabled(true); //접수
                                   btnRtn.setDisabled(false); //반송
                                   btnCpltPrcg.setDisabled(false); //처리완료
                                   prDuraDtGb.setDisabled(false); //기간구분
                                   prcgPrDt.setDisabled(false); //처리예정일
                                   prcgPrDt.setReadOnly(false); //처리예정일
                                   prcgCn.setDisabled(false);//처리내용
                                   etcCn.setDisabled(false);//기타의견
                                   btnSave.setDisabled(false); //저장
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09606") { //상태: 처리완료
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(true); //첨부파일 
                                   btnOffr.setDisabled(true); //신청
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   btnSave.setDisabled(true); //저장
                                   btnPrcgIng.setDisabled(true); //처리중
                                   btnRtn.setDisabled(true); //반송
                                   btnCpltPrcg.setDisabled(true); //처리완료
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                               }
                               
                           }else if (dsTcfAsBbsMap.get("rcptRealDeptCd") != sessionStorage.deptCd
                                      && dsTcfAsBbsMap.get("fstRegprEmpno") == sessionStorage.userEmpno) { //접수부서 != 로그인자 부서 && 작성자 == 로그인자
                               if (dsTcfAsBbsMap.get("stusGbCd") == "CF09601") { //상태: 작성중
                                   grpTcfAsBbsMap.setDisabled(false);
                                   btnOffr.setDisabled(false); //신청
                                   btnSave.setDisabled(false); //저장
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   stusGbCd.setDisabled(true); //상태
                                   prDuraDtGb.setDisabled(true); //기간구분
                                   prcgPrDt.setDisabled(true); //처리예정일
                                   prcgCn.setDisabled(true);//처리내용
                                   etcCn.setDisabled(true);//기타의견
                                   btnDel.setDisabled(false); //삭제
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09602") { //상태: 신청
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(false); //첨부파일 활성화
                                   btnOffr.setDisabled(true); //신청
                                   btnCnclOffr.setDisabled(false); //신청취소
                                   btnRcpt.setDisabled(true); //접수
                                   etcCn.setDisabled(false); //기타의견 
                                   btnSave.setDisabled(false); //저장
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 접수부서 변경, 요청목록 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        rcptDeptCd.setDisabled(false); //접수부서
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                        rcptDeptCd.setDisabled(true); //접수부서
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09603") { //상태: 접수
                                   grpTcfAsBbsMap.setDisabled(true);
                                   etcCn.setDisabled(false); //기타의견 
                                   btnNew.setDisabled(false); //신규 
                                   btnSave.setDisabled(false); //저장 
                                   btnOffr.setDisabled(true); //신청
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09604") { //상태: 반송
                                   grpTcfAsBbsMap.setDisabled(true);
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   btnOffr.setDisabled(true); //신청
                                   btnSave.setDisabled(true); //저장 
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09605") { //상태: 처리중
                                   grpTcfAsBbsMap.setDisabled(true);
                                   btnOffr.setDisabled(true); //신청
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   etcCn.setDisabled(false); //기타의견 
                                   btnSave.setDisabled(true); //저장 
                                   
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                                   
                               }else if (dsTcfAsBbsMap.get("stusGbCd") == "CF09606") { //상태: 처리완료
                                   grpTcfAsBbsMap.setDisabled(true);
                                   com.getUdcComp("udcAflId", "btnAddFile").setDisabled(true); //첨부파일 
                                   btnCnclOffr.setDisabled(true); //신청취소
                                   btnOffr.setDisabled(true); //신청
                                   btnSave.setDisabled(true); //저장
                            
                                   if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                        btnDel.setDisabled(false); //삭제
                                        
                                   }else {
                                        btnDel.setDisabled(true); //삭제
                                   }
                               }
                               
                           }else if (dsTcfAsBbsMap.get("rcptRealDeptCd") != sessionStorage.deptCd
                                      && dsTcfAsBbsMap.get("fstRegprEmpno") != sessionStorage.userEmpno) { //접수부서 != 로그인자 부서 && 작성자 != 로그인자
                                grpTcfAsBbsMap.setDisabled(true);
                                btnOffr.setDisabled(true); //신청
                                btnCnclOffr.setDisabled(true); //신청취소
                                btnRcpt.setDisabled(true); //접수
                                btnRtn.setDisabled(true); //반송
                                btnPrcgIng.setDisabled(true); //처리중
                                btnCpltPrcg.setDisabled(true); //처리완료
                                btnSave.setDisabled(true); //저장
                                btnDel.setDisabled(true); //삭제
                                
                                if (sessionStorage.deptCd == "0") { //개발팀은 삭제 가능
                                    if (dsTcfAsBbsMap.get("stusGbCd") == "CF09602") { //상태: 신청
                                        com.getUdcComp("udcAflId", "btnAddFile").setDisabled(false); //첨부파일
                                        btnDel.setDisabled(false); //삭제
                                        btnCnclOffr.setDisabled(false); //신청취소
                                        btnSave.setDisabled(false); //저장
                                        rcptDeptCd.setDisabled(false); //접수부서
                                        etcCn.setDisabled(false); //기타의견
                                        
                                    }else { //상태: 신청 외
                                        grpTcfAsBbsMap.setDisabled(true);
                                        btnOffr.setDisabled(true); //신청
                                        btnCnclOffr.setDisabled(true); //신청취소
                                        btnRcpt.setDisabled(true); //접수
                                        btnRtn.setDisabled(true); //반송
                                        btnPrcgIng.setDisabled(true); //처리중
                                        btnCpltPrcg.setDisabled(true); //처리완료
                                        btnSave.setDisabled(true); //저장
                                        btnDel.setDisabled(false); //삭제
                                    }
                                }
                           }
                           
                           dsTcfAsBbsMap.initRowStatus(); //map 상태 초기화                   
             },
             errCallback: function(e) {console.log(e);}    
        });            
	};
	
    //파일첨부 버튼 클릭
	scwin.ins_aflId_onclick = function() {
        var sJobGbCd = "CF";
		var sMenuId  = "CF00080002U";
		var sAflId   = dsTcfAsBbsMap.get("aflId");
		var sFileExt = "*.*";

		com.setUdcValue("udcAflId", "jobGbCd", sJobGbCd);
		com.setUdcValue("udcAflId", "menuId", sMenuId);
		com.setUdcValue("udcAflId", "aflId", sAflId);
		com.setUdcValue("udcAflId", "fileExt", sFileExt);
        com.setUdcValue("udcAflId", "usage", "INS"); // 버튼숨기기처리 : 필수값
        com.setUdcValue("udcAflId", "fileSize", "INS"); // 용량표시안함(표시함:INS) : 필수값
	};
    
    //엑셀다운
    scwin.btnExcelDwn_onclick = function() {
        let result = [];
        result.push(1); //checkbox 제외
        
        let totalCol = grdTcfNotiList.getTotalCol();
        
        for(let i = 0; i < totalCol; i++) {
            if (!grdTcfNotiList.getColumnVisible(i)) {
                result.push(i);
            }
        }
        
        grdTcfNotiList.advancedExcelDownload({
            fileName: "A/S요청목록.xlsx",
            removeColumns: result.join(","),
            useSubTotal : true,             // Sub-Total 표시 
            headerFontColor : "#FFFFFF",    // Header Font Color
            headerColor : "#D9D9D9",        // Header Back Color
            subTotalColor : "#FCE4D6",      // SubTotal Back Color
            footerColor : "#BDD7EE"         // Footer Color
        });
    };

    /* 대분류 변경시 중분류 조회 */
	scwin.menu1Id_onchange = function() {
		scwin.selectMenu2List();
        scwin.selectMenu3List();
	};
	
    /* 중분류 변경시 소분류 조회 */
    scwin.menu2Id_onchange = function(e) {
        scwin.selectMenu3List();
    };
	
    /* 요청자 keyboard enter 이벤트 */
	scwin.fstRegprEmpnm_onkeydown = function(e) {
		if ( e.keyCode == 13 ){
            scwin.btnFind_onclick();
        }
	};
	
    /* 신청 버튼 클릭 이벤트 */
	scwin.btnOffr_onclick = function() {
        dsTcfAsBbsMap.set("stusGbCd", "CF09602"); //상태: 신청
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장        
	};
	
    /* 신청취소 버튼 클릭 이벤트 */
	scwin.btnCnclOffr_onclick = function() {
		dsTcfAsBbsMap.set("stusGbCd", "CF09601"); //상태: 작성중
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장  
	};
	
    /* 접수 버튼 클릭 이벤트 */
	scwin.btnRcpt_onclick = function() {
        dsTcfAsBbsMap.set("stusGbCd", "CF09603"); //상태: 접수
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장
	};
	
    /* 반송 버튼 클릭 이벤트 */
	scwin.btnRtn_onclick = function() {
		dsTcfAsBbsMap.set("stusGbCd", "CF09604"); //상태: 반송
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장
	};
	
    /* 처리중 버튼 클릭 이벤트 */
	scwin.btnPrcgIng_onclick = function() {
		dsTcfAsBbsMap.set("stusGbCd", "CF09605"); //상태: 처리중
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장
	};
	
    /* 처리완료 버튼 클릭 이벤트 */
	scwin.btnCpltPrcg_onclick = function() {
        if (dsTcfAsBbsMap.get("prcgCn") == "") {
            com.showMessage('CFW0010','처리내용을 입력해주세요.'); //$
            return false;
        }
        
		dsTcfAsBbsMap.set("stusGbCd", "CF09606"); //상태: 처리완료
        dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y'
        
        scwin.btnSave_onclick(); //저장
	};

	/* 접수부서 변경 이벤트 */
	scwin.rcptDeptCd_onviewchange = function(info) {
		dsTcfAsBbsMap.set("chgStusYn", "Y"); //상태값_변경_여부' Y' -> 저장시 이력 테이블 저장되도록 설정.
	};
	
	//처리 예정일 입력시 날짜 형식 체크
	scwin.prcgPrDt_onviewchange = function(info) {
		if (!com.isDate(prcgPrDt.getValue())) {
            com.showMessage("SCA0027"); // 날짜형식이 잘못되었습니다.
            
            prcgPrDt.setValue("");
            prcgPrDt.focus();
            return false;
        }
	};
	]]></script>
	<w2:require src="/WEB-INF/ux/common/udc/udcPeriodcalendar.xml"></w2:require>
    <w2:require src="/WEB-INF/ux/common/udc/udcFileList.xml"></w2:require>
    <w2:require src="/WEB-INF/ux/common/udc/udcListCount.xml"></w2:require>
    
	</head>
	<body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
		<xf:group style="" id="" class="content_body">
			<xf:group class="navigator_wrap" id="" style="">
				<w2:wframe id="wfm_title" src="/ux/common/navigator.xml" style=""></w2:wframe>
			</xf:group>
			<xf:group class="tbl_search" id="" style="">
				<xf:group class="tb_list" id="" style="" tagname="table">
					<w2:attributes>
						<w2:summary>조회조건 테이블 입니다.</w2:summary>
					</w2:attributes>
					<xf:group style="" tagname="tr">
						<xf:group class="w2tb_th " style="" tagname="th">
							<w2:attributes>
								<w2:scope>row</w2:scope>
							</w2:attributes>
							<w2:span class="" id="" label="현장명" style=""></w2:span>
						</xf:group>

						<xf:group class="w2tb_td" style="" tagname="td">
							<w2:wframe id="wfmKeySiteInfo" src="/WEB-INF/ux/cm/cmcomm/schSiteInfo.xml" style="" class="inline_block"></w2:wframe>
							<xf:select appearance="full" class="" cols="1" disabled="" ev:onchange="scwin.cbxAll_onchange" falseValue="N"
							    id="cbxAll" ref="" renderType="checkboxgroup" rows="" selectedindex="0" style="">
							    <xf:choices>
							        <xf:item>
							            <xf:label>전체 현장</xf:label>
							            <xf:value><![CDATA[Y]]></xf:value>
							        </xf:item>
							    </xf:choices>
							</xf:select>
						</xf:group>
						<xf:group class="w2tb_th" style="" tagname="th">
							<w2:attributes>
								<w2:scope>row</w2:scope>
							</w2:attributes>
							<w2:span class="" id="" label="요청기간" style=""></w2:span>
						</xf:group>
						<xf:group class="w2tb_td" style="" tagname="td">
                            <w2:udc_periodcalendar id="udcPtupPeriodcalendar" style=""></w2:udc_periodcalendar>
						</xf:group>
						<xf:group class="w2tb_th" tagname="th">
							<w2:attributes>
								<w2:scope>row</w2:scope>
							</w2:attributes>
							<w2:span class="" id="" label="상태" style=""></w2:span>
						</xf:group>
						<xf:group class="w2tb_td" tagname="td">
							<xf:select1 allOption="true" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
							    disabledClass="w2selectbox_disabled" displayMode="label" id="keyStusGbCd" ref="data:dsSearchMap.stusGbCd" style="width:140px;"
							    submenuSize="auto" textAlign="left">
							    <xf:choices></xf:choices>
							</xf:select1>
						</xf:group>
					</xf:group>
					<xf:group style="" tagname="tr">
						<xf:group class="w2tb_th " style="" tagname="th">
							<w2:attributes>
								<w2:scope>row</w2:scope>
							</w2:attributes>
							<w2:span class="" id="" label="접수부서" style=""></w2:span>
						</xf:group>
						<xf:group class="w2tb_td" style="width:550px;" tagname="td">
							<xf:select1 allOption="true" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
							    disabledClass="w2selectbox_disabled" displayMode="label" id="keyRcptDeptCd" ref="data:dsSearchMap.rcptDeptCd" style="width:235px;" submenuSize="auto" textAlign="left">
							    <xf:choices></xf:choices>
							</xf:select1>
						</xf:group>
						<xf:group class="w2tb_th" style="" tagname="th">
							<w2:attributes>
								<w2:scope>row</w2:scope>
							</w2:attributes>
							<w2:span class="" id="" label="요청자" style=""></w2:span>
						</xf:group>
						<xf:group class="w2tb_td" style="" tagname="td">
							<w2:attributes>
								<w2:colspan>3</w2:colspan>
							</w2:attributes>
							<xf:input allowChar="" class="" dataType="" disabled="" id="fstRegprEmpnm" mandatory=""
					            ref="data:dsSearchMap.fstRegprEmpnm" style="width:235px;" ev:onkeydown="scwin.fstRegprEmpnm_onkeydown">
					            <w2:attributes>
					                <w2:value></w2:value>
					            </w2:attributes>
					        </xf:input>
						</xf:group>
					</xf:group>
				</xf:group>
				<xf:group class="btn_tbl_search" style="" tagname="">
					<w2:anchor class="btn_sh" id="btnFind" outerDiv="false" style="" ev:onclick="scwin.btnFind_onclick">
						<xf:label><![CDATA[조회]]></xf:label>
					</w2:anchor>
				</xf:group>
			</xf:group>
            <xf:group class="defaultbox" id="" style="margin-top:10px;">
                <w2:textbox class="df_tt" id="" label="요청목록" style="" tagname="h3"></w2:textbox>
                <w2:udc_list_count id="dsTotalCount"></w2:udc_list_count>
                <xf:group class="right_wrap" id="" style="">
                    <xf:group id="" style="">
                        <w2:anchor class="btn_gcm excel_down" clickEventElement="" id="btnExcelDwn" localeRef=""
                            outerDiv="false" style="" toolTip="엑셀다운로드" ev:onclick="scwin.btnExcelDwn_onclick">
                            <xf:label><![CDATA[엑셀다운로드]]></xf:label>
                        </w2:anchor>
                    </xf:group>
                </xf:group>
            </xf:group>
            <w2:gridView autoFit="" class="" dataList="data:dsTcfAsBbsList" fixedColumnWithHidden="true" focusMode="row"
                id="grdTcfNotiList" readOnly="true" rowNumHeaderValue="No" rowNumVisible="" rowStatusHeaderValue="" rowStatusVisible=""
                rowStatusWidth="30" scrollByColumn="false" style="height: 300px;left:-6px;top:-16px;margin-top:20px;margin-left:5px;"
                useShiftKey="true" visibleRowNum="" ev:oncellclick="scwin.grdTcfNotiList_oncellclick">
                <w2:header id="header1" style="">
                    <w2:row id="row2" style="">
                        <w2:column removeBorderStyle="false" width="70" inputType="text" style="" id="column64" value="No."
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" id="column62" value="요청제목" blockSelect="false"
                            displayMode="label" style="">
                        </w2:column>
                        <w2:column blockSelect="false" id="column19" inputType="text" value="상태" width="100" style=""></w2:column>
                        <w2:column removeBorderStyle="false" width="220" inputType="text" id="column43" value="요청구분" blockSelect="false"
                            displayMode="label" style="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" style="" id="column66" value="접수부서"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" id="column50" value="작성자" blockSelect="false"
                            displayMode="label" style="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" id="column63" value="신청일자" blockSelect="false"
                            displayMode="label" style="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="250" inputType="text" style="" id="column67" value="요청현장"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="column69" value="메뉴대분류"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="column71" value="메뉴중분류"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="column73" value="메뉴소분류"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="column75" value="기간구분"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="column77" value="처리예정일" blockSelect="false"
                            displayMode="label">
                        </w2:column>
                    </w2:row>
                </w2:header>
                <w2:gBody id="gBody4" style="">
                    <w2:row id="row5" style="">
                        <w2:column removeBorderStyle="false" width="70" inputType="text" style="" id="bbsSeq" value="" blockSelect="false"
                            displayMode="label" expression="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" id="reqTtl" value="" blockSelect="false"
                            displayMode="label" style="" textAlign="left">
                        </w2:column>
                        <w2:column blockSelect="false" id="stusGbNm" inputType="text" value="" width="100" viewType="" style=""
                            customFormatter="" textAlign="center" displayMode="label" removeBorderStyle="false">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="220" inputType="text" id="reqGbNm" value="" blockSelect="false"
                            displayMode="label" style="" textAlign="center">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" style="" id="rcptDeptCdNm" value=""
                            blockSelect="false" displayMode="label" textAlign="left">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" id="fstRegprEmpnm" blockSelect="false"
                            displayMode="label" style="" textAlign="center" value="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" id="fstRegDtm" blockSelect="false"
                            displayMode="label" style="" textAlign="center" value="" dataType="text" displayFormat="">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="250" inputType="text" style="" id="siteNm" value="" blockSelect="false"
                            displayMode="label" textAlign="left">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="menu1Nm" value="" blockSelect="false"
                            displayMode="label" textAlign="left">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="menu2Nm" value="" blockSelect="false"
                            displayMode="label" textAlign="left">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="menu3Nm" value="" blockSelect="false"
                            displayMode="label" textAlign="left">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="prDuraDtNm" value="" blockSelect="false"
                            displayMode="label" textAlign="center">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="140" inputType="text" style="" id="prcgPrDt" value="" blockSelect="false"
                            displayMode="label" textAlign="center">
                        </w2:column>
                    </w2:row>
                </w2:gBody>
            </w2:gridView>
            <xf:group class="defaultbox" id="" style="margin-top:-5px;">
                <w2:textbox class="df_tt" id="" label="요청상세" style="" tagname="h3"></w2:textbox>
                <xf:group class="right_wrap" id="" style="">
                    <xf:group id="" style="">
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnOffr" outerDiv="false" style="" ev:onclick="scwin.btnOffr_onclick">
                            <xf:label><![CDATA[신청]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnCnclOffr" outerDiv="false" style="" ev:onclick="scwin.btnCnclOffr_onclick">
                            <xf:label><![CDATA[신청취소]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnRcpt" outerDiv="false" style="" ev:onclick="scwin.btnRcpt_onclick">
                            <xf:label><![CDATA[접수]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnRtn" outerDiv="false" style="" ev:onclick="scwin.btnRtn_onclick">
                            <xf:label><![CDATA[반송]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnPrcgIng" outerDiv="false" style="" ev:onclick="scwin.btnPrcgIng_onclick">
                            <xf:label><![CDATA[처리중]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnCpltPrcg" outerDiv="false" style="" ev:onclick="scwin.btnCpltPrcg_onclick">
                            <xf:label><![CDATA[처리완료]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnNew" outerDiv="false" style="" ev:onclick="scwin.btnNew_onclick">
                            <xf:label><![CDATA[신규]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnSave" outerDiv="false" style="" ev:onclick="scwin.btnSave_onclick">
                            <xf:label><![CDATA[저장]]></xf:label>
                        </w2:anchor>
                        <w2:anchor class="btn_gcm" clickEventElement="" id="btnDel" outerDiv="false" style="" ev:onclick="scwin.btnDel_onclick">
                            <xf:label><![CDATA[삭제]]></xf:label>
                        </w2:anchor>
                    </xf:group>
                </xf:group>
            </xf:group>
			<xf:group adaptive="" adaptiveThreshold="" class="w2tb" id="grpTcfAsBbsMap" style="" tagname="table">
			    <w2:attributes>
			        <w2:summary>공지사항 관련 테이블 입니다.</w2:summary>
			    </w2:attributes>
			    <xf:group tagname="colgroup">
			        <xf:group style="width:120.00px;" tagname="col"></xf:group>
			        <xf:group style="width:55%" tagname="col"></xf:group>
			        <xf:group tagname="col" style="width:120px;"></xf:group>
			        <xf:group tagname="col" style="width:25%"></xf:group>
                    <xf:group tagname="col" style="width:120px;"></xf:group>
                    <xf:group tagname="col" style="width:20%"></xf:group>
			    </xf:group>
			    <xf:group style="" tagname="tr">
			        <xf:group class="w2tb_th req" style="" tagname="th">
			            <w2:attributes>
			                <w2:scope>row</w2:scope>
			            </w2:attributes>
			            <w2:span id="" label="요청제목" style=""></w2:span>
			        </xf:group>
			        <xf:group class="w2tb_td" style="" tagname="td">
			            <w2:attributes>
			                <w2:colspan>1</w2:colspan>
			                <w2:rowspan>1</w2:rowspan>
			            </w2:attributes>
			            <xf:input class="req" id="reqTtl" style="width:100%;margin-left:0px;" initValue="" mandatory="true"
			                ref="data:dsTcfAsBbsMap.reqTtl">
			                <w2:attributes>
			                    <w2:value></w2:value>
			                </w2:attributes>
			            </xf:input>
			        </xf:group>
			        <xf:group tagname="th" class="w2tb_th req">
			            <w2:attributes></w2:attributes>
			            <w2:span id="" label="요청구분" style=""></w2:span>
			        </xf:group>
			        <xf:group tagname="td" class="w2tb_td">
			            <xf:select1 allOption="" appearance="minimal" chooseOption="" direction="auto" disabled="false"
                            disabledClass="w2selectbox_disabled" displayMode="label" id="reqGbCd" optionOrder="" ref="data:dsTcfAsBbsMap.reqGbCd" style="width:210px;"
                            submenuSize="auto" chooseOptionLabel="" class="" mandatory="">
                            <xf:choices></xf:choices>
                        </xf:select1>
			        </xf:group>
                    <xf:group tagname="th" class="w2tb_th">
                        <w2:attributes></w2:attributes>
                        <w2:span id="" label="상태" style=""></w2:span>
                    </xf:group>
                    <xf:group tagname="td" class="w2tb_td">
                        <xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
							    disabledClass="w2selectbox_disabled" displayMode="label" id="stusGbCd" ref="data:dsTcfAsBbsMap.stusGbCd" style="width:140px;" submenuSize="auto"
							    textAlign="left">
							    <xf:choices></xf:choices>
						</xf:select1>
                    </xf:group>
			    </xf:group>
			    <xf:group tagname="tr">
			        <xf:group tagname="th" class="w2tb_th req">
			            <w2:attributes>
			                <w2:scope>row</w2:scope>
			            </w2:attributes>
			            <w2:span id="" label="요청현장" style=""></w2:span>
			        </xf:group>
			        <xf:group tagname="td" class="w2tb_td">
			            <w2:attributes></w2:attributes>
			            <w2:wframe class="inline_block" id="wfmKeySiteInfo2" src="/WEB-INF/ux/cm/cmcomm/schSiteInfo.xml" style=""></w2:wframe>
			        </xf:group>
			        <xf:group tagname="th" class="w2tb_th req">
			            <w2:attributes>
			                <w2:scope>row</w2:scope>
			            </w2:attributes>
			            <w2:span id="" label="메뉴구분" style=""></w2:span>
			        </xf:group>
			        <xf:group tagname="td" class="w2tb_td">
			            <w2:attributes><w2:colspan>3</w2:colspan><w2:rowspan>1</w2:rowspan></w2:attributes>
			            <xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
			                disabledClass="w2selectbox_disabled" displayMode="label" id="menu1Id" mandatory="true" optionOrder=""
			                ref="data:dsTcfAsBbsMap.menu1Id" style="width: 210px;" submenuSize="auto" chooseOptionLabel=""
			                ev:onchange="scwin.menu1Id_onchange" labelWidthAuto="" ev:onclick="scwin.menu1Id_onclick">
			                <xf:choices>
			                    <xf:itemset nodeset="data:dsMenu1List">
			                        <xf:label ref="menuNm"></xf:label>
			                        <xf:value ref="menuId"></xf:value>
			                    </xf:itemset>
			                </xf:choices>
			            </xf:select1>
			            <xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
			                disabledClass="w2selectbox_disabled" displayMode="label" id="menu2Id" mandatory="true" optionOrder="" ref="data:dsTcfAsBbsMap.menu2Id"
			                style="width:210px;" submenuSize="auto" chooseOptionLabel="" ev:onchange="scwin.menu2Id_onchange" ev:onclick="scwin.menu2Id_onclick">
			                <xf:choices>
			                    <xf:itemset nodeset="data:dsMenu2List">
			                        <xf:label ref="menuNm"></xf:label>
			                        <xf:value ref="menuId"></xf:value>
			                    </xf:itemset>
			                </xf:choices>
			            </xf:select1>
			            <xf:select1 allOption="" appearance="minimal" chooseOption="" class="" direction="auto" disabled="false"
			                disabledClass="w2selectbox_disabled" displayMode="label" id="menu3Id" mandatory="true" optionOrder=""
			                ref="data:dsTcfAsBbsMap.menu3Id" style="width:210px;" submenuSize="auto" chooseOptionLabel="">
			                <xf:choices>
			                    <xf:itemset nodeset="data:dsMenu3List">
			                        <xf:label ref="menuNm"></xf:label>
			                        <xf:value ref="menuId"></xf:value>
			                    </xf:itemset>
			                </xf:choices>
			            </xf:select1>
			        </xf:group>
			    </xf:group>
			    <xf:group style="" tagname="tr">
			        <xf:group class="w2tb_th req" style="" tagname="th">
			            <w2:attributes>
			                <w2:scope>row</w2:scope>
			            </w2:attributes>
			            <w2:span id="" label="접수부서" style=""></w2:span>
			        </xf:group>
			        <xf:group class="w2tb_td" style="" tagname="td">
                        <xf:select1 allOption="" appearance="minimal" chooseOption="" direction="auto" disabled="false"
                            disabledClass="w2selectbox_disabled" displayMode="label" id="rcptDeptCd" optionOrder="" ref="data:dsTcfAsBbsMap.rcptDeptCd" style="width:235px;"
                            submenuSize="auto" chooseOptionLabel="" class="" mandatory="" ev:onchange="scwin.rcptDeptCd_onchange" ev:onviewchange="scwin.rcptDeptCd_onviewchange">
                            <xf:choices></xf:choices>
                        </xf:select1>
			        </xf:group>
			        <xf:group tagname="th" class="w2tb_th">
			            <w2:attributes></w2:attributes>
			            <w2:span id="" label="기간구분" style=""></w2:span>
			        </xf:group>
			        <xf:group tagname="td" class="w2tb_td">
			            <w2:attributes></w2:attributes>
			            <xf:select1 allOption="" appearance="minimal" chooseOption="" direction="auto" disabled="false"
			                disabledClass="w2selectbox_disabled" displayMode="label" id="prDuraDtGb" optionOrder=""
			                ref="data:dsTcfAsBbsMap.prDuraDtGb" style="width:210px;" submenuSize="auto" chooseOptionLabel="" class="" mandatory="">
			                <xf:choices>
			                    <xf:item>
			                        <xf:label><![CDATA[단기(일주일미만)]]></xf:label>
			                        <xf:value><![CDATA[1]]></xf:value>
			                    </xf:item>
			                    <xf:item>
			                        <xf:label><![CDATA[중기(한달미만)]]></xf:label>
			                        <xf:value><![CDATA[2]]></xf:value>
			                    </xf:item>
			                    <xf:item>
			                        <xf:label><![CDATA[장기(한달이상)]]></xf:label>
			                        <xf:value><![CDATA[3]]></xf:value>
			                    </xf:item>
			                </xf:choices>
			            </xf:select1>
			        </xf:group>
                    <xf:group tagname="th" class="w2tb_th">
                        <w2:attributes></w2:attributes>
                        <w2:span id="" label="처리 예정일" style=""></w2:span>
                    </xf:group>
                    <xf:group tagname="td" class="w2tb_td">
                    	<!--
						<w2:inputCalendar footerDiv="false" id="prcgPrDt" style="width:120px" renderDiv="true" focusOnDateSelect="false"
            			    				calendarValueType="yearMonthDate" rightAlign="false" renderType="component" class="req" mandatory=""  placeholder="____-__-__" ev:onchange="scwin.prcgPrDt_onviewchange" defaultDate="" ref="data:dsTcfAsBbsMap.prcgPrDt" readOnly="" ev:onkeydown="scwin.prcgPrDt_onkeydown" ev:onkeyup="scwin.prcgPrDt_onkeyup">
                        </w2:inputCalendar>
                         -->
                        
                        <xf:input class="" dataType="text" allowChar="0-9" displayFormat=""  id="prcgPrDt" initValue="" 
                                            mandatory="" readOnly="" maxlength="8" minlength="" ref="data:dsTcfAsBbsMap.prcgPrDt" 
                                            style="width:140px;" placeholder="____-__-__" ev:onviewchange="scwin.prcgPrDt_onviewchange">
                        </xf:input>
                        
                    </xf:group>
			    </xf:group>
			<xf:group tagname="tr">
                <xf:group tagname="th" class="w2tb_th req">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>2</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <w2:span id="" label="요청내용" style="margin-left:370px;"></w2:span>
                </xf:group>
                <xf:group tagname="th" class="w2tb_th">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>4</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <w2:span id="" label="처리내용" style="margin-left:370px;"></w2:span>
                </xf:group>
			</xf:group>
            <xf:group tagname="tr">
                <xf:group tagname="td" class="w2tb_td">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>2</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <xf:textarea id="regCn" style="width: 100%;height:150px;" ref="data:dsTcfAsBbsMap.reqCn">
                    </xf:textarea>
                </xf:group>
                <xf:group tagname="td" class="w2tb_td">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>4</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <xf:textarea id="prcgCn" style="width: 100%;height:150px;" ref="data:dsTcfAsBbsMap.prcgCn">
                    </xf:textarea>
                </xf:group>
            </xf:group>
            <xf:group tagname="tr">
                <xf:group tagname="th" class="w2tb_th">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>2</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <w2:span id="" label="변경전" style="margin-left:370px;"></w2:span>
                </xf:group>
                <xf:group tagname="th" class="w2tb_th">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>4</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <w2:span id="" label="변경후" style="margin-left:375px;"></w2:span>
                </xf:group>
            </xf:group>
            <xf:group tagname="tr">
                <xf:group tagname="td" class="w2tb_td">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>2</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <xf:textarea id="chgbfCn" style="width: 100%;height:150px;" ref="data:dsTcfAsBbsMap.chgbfCn">
                    </xf:textarea>
                </xf:group>
                <xf:group tagname="td" class="w2tb_td">
                    <w2:attributes>
                        <w2:scope>row</w2:scope>
                        <w2:colspan>4</w2:colspan>
                        <w2:rowspan>1</w2:rowspan>
                    </w2:attributes>
                    <xf:textarea id="chgafCn" style="width: 100%;height:150px;" ref="data:dsTcfAsBbsMap.chgafCn">
                    </xf:textarea>
                </xf:group>
            </xf:group>
          <xf:group tagname="tr">
            <xf:group tagname="th" class="w2tb_th">
                <w2:attributes>
                    <w2:colspan>6</w2:colspan>
                    <w2:rowspan>1</w2:rowspan>
                </w2:attributes>
                <w2:span id="" label="기타의견" style="margin-left:760px;"></w2:span>
            </xf:group>
          </xf:group>
          <xf:group tagname="tr">
            <xf:group tagname="td" class="w2tb_td">
                <w2:attributes>
                    <w2:scope>row</w2:scope>
                    <w2:colspan>6</w2:colspan>
                    <w2:rowspan>1</w2:rowspan>
                </w2:attributes>
                <xf:textarea id="etcCn" style="width: 100%;height:100px;" ref="data:dsTcfAsBbsMap.etcCn">
                </xf:textarea>
            </xf:group>
          </xf:group>
          <xf:group tagname="tr">
            <xf:group tagname="td" class="w2tb_td">
                <w2:attributes>
                <w2:colspan>2</w2:colspan><w2:rowspan>1</w2:rowspan></w2:attributes>
                <w2:gridView autoFit="allColumn" class="" dataList="data:dsTcfAsBbsHistList" fixedColumnWithHidden="true" focusMode="row"
                id="grdTcfAsBbsHistList" readOnly="true" rowNumHeaderValue="No" rowNumVisible="" rowStatusHeaderValue="" rowStatusVisible=""
                rowStatusWidth="30" scrollByColumn="false" style="height: 200px;left:-6px;top:-16px;margin-top:25px;margin-left:5px;"
                useShiftKey="true" visibleRowNum="" ev:oncellclick="">
                <w2:header id="header1" style="">
                    <w2:row id="row2" style="">
                        <w2:column blockSelect="false" id="column19" inputType="text" value="상태" width="80" style=""></w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" style="" id="column73" value="일자"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" style="" id="column75" value="담당자"
                            blockSelect="false" displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" style="" id="column77" value="부서" blockSelect="false"
                            displayMode="label">
                        </w2:column>
                    </w2:row>
                </w2:header>
                <w2:gBody id="gBody4" style="">
                    <w2:row id="row5" style="">
                        <w2:column blockSelect="false" id="stusGbNm" inputType="text" value="" width="80" viewType="" style=""
                            customFormatter="" textAlign="center" displayMode="label" removeBorderStyle="false">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" style="" id="fstRegDtm" value="" blockSelect="false"
                            displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="120" inputType="text" style="" id="fstRegprEmpnm" value="" blockSelect="false"
                            displayMode="label">
                        </w2:column>
                        <w2:column removeBorderStyle="false" width="200" inputType="text" style="" id="empDeptNm" value="" blockSelect="false"
                            displayMode="label">
                        </w2:column>
                    </w2:row>
                </w2:gBody>
            </w2:gridView>
            </xf:group>
          <xf:group tagname="th" class="w2tb_th">
              <w2:attributes></w2:attributes>
              <w2:span id="" label="첨부파일" style=""></w2:span>
          </xf:group>
          <xf:group tagname="td" class="w2tb_td" style="">
            <w2:attributes>
                <w2:colspan>3</w2:colspan>
                <w2:rowspan>1</w2:rowspan>
            </w2:attributes>
            <xf:group class="" id="" style="">
                <w2:udc_file_list id="udcAflId" style=""></w2:udc_file_list>
            </xf:group>
          </xf:group>
          </xf:group>
          </xf:group>
		</xf:group>
	</body>
</html>
